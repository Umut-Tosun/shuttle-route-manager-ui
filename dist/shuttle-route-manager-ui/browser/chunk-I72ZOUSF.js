import{a as ie}from"./chunk-XHCXKUJP.js";import{a as te}from"./chunk-TGDMD2NI.js";import{a as ae}from"./chunk-VNNXU67K.js";import{b as j,c as k,d as H,e as q,f as B,g as P,h as $,i as K,j as Y,k as W,l as Z,m as U,o as J,q as Q,r as X,s as ee}from"./chunk-C3YQDD43.js";import"./chunk-K2W5W2RN.js";import{Ba as w,Ga as L,Jb as A,Ka as x,Kb as G,Pb as z,Ra as s,Sa as e,Ta as i,U as S,Ua as m,V as y,W as u,X as h,Xa as M,Ya as v,Za as p,a as R,cb as n,d as ne,db as b,eb as g,hb as V,ib as D,jb as O,ta as a,wb as N}from"./chunk-5JI3WXRX.js";var _=ne(ae());function oe(o,r){if(o&1&&(e(0,"option",21),n(1),i()),o&2){let t=r.$implicit;s("value",t.id),a(),g(" ",t.name," ")}}function le(o,r){if(o&1){let t=M();e(0,"button",22),v("click",function(){S(t);let d=p();return y(d.clearFilter())}),u(),e(1,"svg",5),m(2,"path",23),i(),n(3," Filtreyi Temizle "),i()}}function de(o,r){if(o&1&&(e(0,"div",24),u(),e(1,"svg",25),m(2,"path",26),i(),h(),e(3,"span"),n(4),i()()),o&2){let t=p();a(4),b(t.successMessage)}}function se(o,r){if(o&1&&(e(0,"div",27),u(),e(1,"svg",25),m(2,"path",28),i(),h(),e(3,"span"),n(4),i()()),o&2){let t=p();a(4),b(t.errorMessage)}}function me(o,r){o&1&&(e(0,"div",29)(1,"div",30),u(),e(2,"svg",31),m(3,"circle",32)(4,"path",33),i(),h(),e(5,"p",34),n(6,"Y\xFCkleniyor..."),i()()())}function pe(o,r){if(o&1){let t=M();e(0,"tr",44)(1,"td",45)(2,"div",46)(3,"span",47),n(4),i()()(),e(5,"td",45)(6,"span",48),n(7),i()(),e(8,"td",45)(9,"p",49),n(10),i()(),e(11,"td",45)(12,"p",50),n(13),i(),e(14,"p",51),n(15),i()(),e(16,"td",45)(17,"div",52)(18,"span",34),n(19),i(),e(20,"span",34),n(21),i()()(),e(22,"td",45)(23,"div",53),u(),e(24,"svg",54),m(25,"path",55),i(),h(),e(26,"span",56),n(27),i()()(),e(28,"td",45)(29,"div",53),u(),e(30,"svg",57),m(31,"path",58),i(),h(),e(32,"span",56),n(33),i()()(),e(34,"td",59)(35,"div",60)(36,"button",61),v("click",function(){let d=S(t).$implicit,f=p(2);return y(f.openDetailModal(d))}),u(),e(37,"svg",5),m(38,"path",62)(39,"path",63),i()(),h(),e(40,"button",64),v("click",function(){let d=S(t).$implicit,f=p(2);return y(f.openEditModal(d))}),u(),e(41,"svg",5),m(42,"path",65),i()(),h(),e(43,"button",66),v("click",function(){let d=S(t).$implicit,f=p(2);return y(f.openDeleteModal(d))}),u(),e(44,"svg",5),m(45,"path",67),i()()()()()}if(o&2){let t=r.$implicit,l=p(2);a(4),b(t.sequenceNumber),a(3),g(" ",(t.route==null?null:t.route.name)||l.getRouteName(t.routeId)," "),a(3),b(t.address),a(3),b(t.district),a(2),b(t.city),a(4),b(t.latitude),a(2),b(t.longitude),a(6),b(l.formatTime(t.estimatedArrivalTimeMorning)),a(6),b(l.formatTime(t.estimatedArrivalTimeEvening)),a(3),s("disabled",l.isLoading),a(4),s("disabled",l.isLoading),a(3),s("disabled",l.isLoading)}}function ue(o,r){if(o&1){let t=M();e(0,"div",68),u(),e(1,"svg",69),m(2,"path",62)(3,"path",63),i(),h(),e(4,"h3",70),n(5),i(),e(6,"p",71),n(7),i(),e(8,"button",72),v("click",function(){S(t);let d=p(2);return y(d.openAddModal())}),n(9," Durak Ekle "),i()()}if(o&2){let t=p(2);a(5),g(" ",t.selectedRouteFilter?"Bu rotada durak yok":"Hen\xFCz durak yok"," "),a(2),g(" ",t.selectedRouteFilter?"Bu rota i\xE7in ilk dura\u011F\u0131 ekleyin":"\u0130lk dura\u011F\u0131n\u0131z\u0131 ekleyerek ba\u015Flay\u0131n"," ")}}function ce(o,r){if(o&1&&(e(0,"div",35)(1,"div",36)(2,"table",37)(3,"thead",38)(4,"tr")(5,"th",39),n(6," S\u0131ra "),i(),e(7,"th",39),n(8," Rota "),i(),e(9,"th",39),n(10," Adres "),i(),e(11,"th",39),n(12," \u0130l\xE7e / \u015Eehir "),i(),e(13,"th",39),n(14," GPS Koordinatlar\u0131 "),i(),e(15,"th",39),n(16," Sabah Saati "),i(),e(17,"th",39),n(18," Ak\u015Fam Saati "),i(),e(19,"th",40),n(20," \u0130\u015Flemler "),i()()(),e(21,"tbody",41),x(22,pe,46,12,"tr",42),i()()(),x(23,ue,10,2,"div",43),i()),o&2){let t=p();a(22),s("ngForOf",t.filteredRouteStops),a(),s("ngIf",t.filteredRouteStops.length===0)}}function ge(o,r){if(o&1&&(e(0,"div",109),u(),e(1,"svg",25),m(2,"path",26),i(),h(),e(3,"span"),n(4),i()()),o&2){let t=p(2);a(4),b(t.successMessage)}}function xe(o,r){if(o&1&&(e(0,"div",110),u(),e(1,"svg",25),m(2,"path",28),i(),h(),e(3,"span"),n(4),i()()),o&2){let t=p(2);a(4),b(t.errorMessage)}}function be(o,r){if(o&1&&(e(0,"option",21),n(1),i()),o&2){let t=r.$implicit;s("value",t.id),a(),g(" ",t.name," ")}}function he(o,r){if(o&1&&(e(0,"p",111),u(),e(1,"svg",112),m(2,"path",113),i(),n(3),i()),o&2){let t=p(2);a(3),g(" ",t.getErrorMessage("routeId")," ")}}function ve(o,r){if(o&1&&(e(0,"p",111),u(),e(1,"svg",112),m(2,"path",113),i(),n(3),i()),o&2){let t=p(2);a(3),g(" ",t.getErrorMessage("sequenceNumber")," ")}}function fe(o,r){if(o&1&&(e(0,"p",111),u(),e(1,"svg",112),m(2,"path",113),i(),n(3),i()),o&2){let t=p(2);a(3),g(" ",t.getErrorMessage("city")," ")}}function Se(o,r){if(o&1&&(e(0,"p",111),u(),e(1,"svg",112),m(2,"path",113),i(),n(3),i()),o&2){let t=p(2);a(3),g(" ",t.getErrorMessage("district")," ")}}function ye(o,r){if(o&1&&(e(0,"p",111),u(),e(1,"svg",112),m(2,"path",113),i(),n(3),i()),o&2){let t=p(2);a(3),g(" ",t.getErrorMessage("address")," ")}}function _e(o,r){if(o&1&&(e(0,"p",114),n(1),i()),o&2){let t=p(2);a(),g(" ",t.getErrorMessage("latitude")," ")}}function ke(o,r){if(o&1&&(e(0,"p",114),n(1),i()),o&2){let t=p(2);a(),g(" ",t.getErrorMessage("longitude")," ")}}function Me(o,r){if(o&1&&(e(0,"p",111),u(),e(1,"svg",112),m(2,"path",113),i(),n(3),i()),o&2){let t=p(2);a(3),g(" ",t.getErrorMessage("estimatedArrivalTimeMorning")," ")}}function we(o,r){if(o&1&&(e(0,"p",111),u(),e(1,"svg",112),m(2,"path",113),i(),n(3),i()),o&2){let t=p(2);a(3),g(" ",t.getErrorMessage("estimatedArrivalTimeEvening")," ")}}function Ee(o,r){o&1&&(u(),e(0,"svg",115),m(1,"circle",32)(2,"path",33),i())}function Ce(o,r){if(o&1){let t=M();e(0,"div",73)(1,"div",74)(2,"div",75)(3,"h2",76),n(4),i(),e(5,"button",77),v("click",function(){S(t);let d=p();return y(d.closeModal())}),u(),e(6,"svg",78),m(7,"path",23),i()()(),h(),e(8,"div",79)(9,"div",80),x(10,ge,5,1,"div",81)(11,xe,5,1,"div",82),e(12,"form",83),v("ngSubmit",function(){S(t);let d=p();return y(d.onSubmit())}),e(13,"div")(14,"label",10),n(15," Rota "),e(16,"span",84),n(17,"*"),i()(),e(18,"select",85)(19,"option",12),n(20,"Rota Se\xE7iniz"),i(),x(21,be,2,2,"option",13),i(),x(22,he,4,1,"p",86),i(),e(23,"div")(24,"label",10),n(25," S\u0131ra Numaras\u0131 "),e(26,"span",84),n(27,"*"),i()(),m(28,"input",87),x(29,ve,4,1,"p",86),i(),e(30,"div",88)(31,"div")(32,"label",10),n(33," \u015Eehir "),e(34,"span",84),n(35,"*"),i()(),m(36,"input",89),x(37,fe,4,1,"p",86),i(),e(38,"div")(39,"label",10),n(40," \u0130l\xE7e "),e(41,"span",84),n(42,"*"),i()(),m(43,"input",90),x(44,Se,4,1,"p",86),i()(),e(45,"div")(46,"label",10),n(47," Adres "),e(48,"span",84),n(49,"*"),i()(),m(50,"textarea",91),x(51,ye,4,1,"p",86),i(),e(52,"div")(53,"label",10),n(54," GPS Koordinatlar\u0131 "),e(55,"span",84),n(56,"*"),i(),e(57,"span",92),n(58," (Harita \xFCzerinde t\u0131klayarak se\xE7ebilirsiniz) "),i()(),e(59,"div",93)(60,"div")(61,"input",94),v("change",function(){S(t);let d=p();return y(d.onManualCoordinatesChange())}),i(),x(62,_e,2,1,"p",95),i(),e(63,"div")(64,"input",96),v("change",function(){S(t);let d=p();return y(d.onManualCoordinatesChange())}),i(),x(65,ke,2,1,"p",95),i()()(),e(66,"div",88)(67,"div")(68,"label",10),n(69," Sabah Var\u0131\u015F Saati "),e(70,"span",84),n(71,"*"),i()(),m(72,"input",97),x(73,Me,4,1,"p",86),i(),e(74,"div")(75,"label",10),n(76," Ak\u015Fam Var\u0131\u015F Saati "),e(77,"span",84),n(78,"*"),i()(),m(79,"input",98),x(80,we,4,1,"p",86),i()(),e(81,"div",99)(82,"button",100),v("click",function(){S(t);let d=p();return y(d.closeModal())}),n(83," \u0130ptal "),i(),e(84,"button",101),x(85,Ee,3,0,"svg",102),n(86),i()()()(),e(87,"div",103),m(88,"div",104),e(89,"div",105)(90,"p",106),u(),e(91,"svg",107),m(92,"path",108),i(),n(93," Harita \xFCzerinde t\u0131klayarak veya i\u015Faret\xE7iyi s\xFCr\xFCkleyerek konum se\xE7in "),i()()()()()()}if(o&2){let t,l,d,f,E,C,F,I,T,c=p();a(4),g(" ",c.isEditMode?"Durak D\xFCzenle":"Yeni Durak Ekle"," "),a(),s("disabled",c.isLoading),a(5),s("ngIf",c.successMessage),a(),s("ngIf",c.errorMessage),a(),s("formGroup",c.routeStopForm),a(9),s("ngForOf",c.routes),a(),s("ngIf",((t=c.routeStopForm.get("routeId"))==null?null:t.invalid)&&((t=c.routeStopForm.get("routeId"))==null?null:t.touched)),a(7),s("ngIf",((l=c.routeStopForm.get("sequenceNumber"))==null?null:l.invalid)&&((l=c.routeStopForm.get("sequenceNumber"))==null?null:l.touched)),a(8),s("ngIf",((d=c.routeStopForm.get("city"))==null?null:d.invalid)&&((d=c.routeStopForm.get("city"))==null?null:d.touched)),a(7),s("ngIf",((f=c.routeStopForm.get("district"))==null?null:f.invalid)&&((f=c.routeStopForm.get("district"))==null?null:f.touched)),a(7),s("ngIf",((E=c.routeStopForm.get("address"))==null?null:E.invalid)&&((E=c.routeStopForm.get("address"))==null?null:E.touched)),a(11),s("ngIf",((C=c.routeStopForm.get("latitude"))==null?null:C.invalid)&&((C=c.routeStopForm.get("latitude"))==null?null:C.touched)),a(3),s("ngIf",((F=c.routeStopForm.get("longitude"))==null?null:F.invalid)&&((F=c.routeStopForm.get("longitude"))==null?null:F.touched)),a(8),s("ngIf",((I=c.routeStopForm.get("estimatedArrivalTimeMorning"))==null?null:I.invalid)&&((I=c.routeStopForm.get("estimatedArrivalTimeMorning"))==null?null:I.touched)),a(7),s("ngIf",((T=c.routeStopForm.get("estimatedArrivalTimeEvening"))==null?null:T.invalid)&&((T=c.routeStopForm.get("estimatedArrivalTimeEvening"))==null?null:T.touched)),a(2),s("disabled",c.isLoading),a(2),s("disabled",c.isLoading||c.routeStopForm.invalid),a(),s("ngIf",c.isLoading),a(),g(" ",c.isLoading?"Kaydediliyor...":c.isEditMode?"G\xFCncelle":"Kaydet"," ")}}function Fe(o,r){if(o&1){let t=M();e(0,"div",73)(1,"div",116)(2,"div",75)(3,"div")(4,"h2",76),n(5),i(),e(6,"p",117),n(7),i()(),e(8,"button",118),v("click",function(){S(t);let d=p();return y(d.closeDetailModal())}),u(),e(9,"svg",78),m(10,"path",23),i()()(),h(),e(11,"div",79)(12,"div",119),m(13,"div",120),i(),e(14,"div",121)(15,"h3",122),n(16,"Durak Bilgileri"),i(),e(17,"div",123)(18,"div")(19,"p",124),n(20,"Rota"),i(),e(21,"p",56),n(22),i()(),e(23,"div")(24,"p",124),n(25,"Adres"),i(),e(26,"p",56),n(27),i()(),e(28,"div",93)(29,"div")(30,"p",124),n(31,"\u0130l\xE7e"),i(),e(32,"p",56),n(33),i()(),e(34,"div")(35,"p",124),n(36,"\u015Eehir"),i(),e(37,"p",56),n(38),i()()(),e(39,"div")(40,"p",125),n(41,"GPS Koordinatlar\u0131"),i(),e(42,"div",126)(43,"p",127),n(44),i(),e(45,"p",128),n(46),i()()(),e(47,"div",93)(48,"div")(49,"p",125),n(50,"Sabah"),i(),e(51,"div",129),u(),e(52,"svg",54),m(53,"path",55),i(),h(),e(54,"span",56),n(55),i()()(),e(56,"div")(57,"p",125),n(58,"Ak\u015Fam"),i(),e(59,"div",130),u(),e(60,"svg",57),m(61,"path",58),i(),h(),e(62,"span",56),n(63),i()()()()()()()()()}if(o&2){let t=p();a(5),g("Durak ",t.selectedStop==null?null:t.selectedStop.sequenceNumber),a(2),g(" ",t.selectedStop==null?null:t.selectedStop.address," "),a(15),b((t.selectedStop==null||t.selectedStop.route==null?null:t.selectedStop.route.name)||t.getRouteName((t.selectedStop==null?null:t.selectedStop.routeId)||"")),a(5),b(t.selectedStop==null?null:t.selectedStop.address),a(6),b(t.selectedStop==null?null:t.selectedStop.district),a(5),b(t.selectedStop==null?null:t.selectedStop.city),a(6),g("Lat: ",t.selectedStop==null?null:t.selectedStop.latitude),a(2),g("Lng: ",t.selectedStop==null?null:t.selectedStop.longitude),a(9),b(t.formatTime((t.selectedStop==null?null:t.selectedStop.estimatedArrivalTimeMorning)||"")),a(8),b(t.formatTime((t.selectedStop==null?null:t.selectedStop.estimatedArrivalTimeEvening)||""))}}function Ie(o,r){o&1&&(u(),e(0,"svg",115),m(1,"circle",32)(2,"path",33),i())}function Te(o,r){o&1&&(u(),e(0,"svg",5),m(1,"path",67),i())}function Re(o,r){if(o&1){let t=M();e(0,"div",73)(1,"div",131)(2,"div",132)(3,"div",133)(4,"div",134),u(),e(5,"svg",135),m(6,"path",136),i()(),h(),e(7,"h2",137),n(8," Dura\u011F\u0131 Sil "),i()(),e(9,"button",77),v("click",function(){S(t);let d=p();return y(d.closeDeleteModal())}),u(),e(10,"svg",78),m(11,"path",23),i()()(),h(),e(12,"div",138)(13,"p",139)(14,"span",140),n(15),i(),n(16,"'\u0131 silmek istedi\u011Finizden emin misiniz? "),i(),e(17,"p",141),n(18," Bu i\u015Flem geri al\u0131namaz. "),i()(),e(19,"div",142)(20,"button",143),v("click",function(){S(t);let d=p();return y(d.closeDeleteModal())}),n(21," \u0130ptal "),i(),e(22,"button",144),v("click",function(){S(t);let d=p();return y(d.confirmDelete())}),x(23,Ie,3,0,"svg",102)(24,Te,2,0,"svg",145),n(25),i()()()()}if(o&2){let t=p();a(9),s("disabled",t.isDeleting),a(6),g("Durak ",t.stopToDelete==null?null:t.stopToDelete.sequenceNumber),a(5),s("disabled",t.isDeleting),a(2),s("disabled",t.isDeleting),a(),s("ngIf",t.isDeleting),a(),s("ngIf",!t.isDeleting),a(),g(" ",t.isDeleting?"Siliniyor...":"Evet, Sil"," ")}}var re=class o{constructor(r,t,l,d){this.routeStopService=r;this.routeService=t;this.fb=l;this.cdr=d;this.routeStopForm=this.fb.group({routeId:["",[k.required]],sequenceNumber:["",[k.required,k.min(1)]],city:["",[k.required]],district:["",[k.required]],address:["",[k.required]],latitude:["",[k.required]],longitude:["",[k.required]],estimatedArrivalTimeMorning:["",[k.required]],estimatedArrivalTimeEvening:["",[k.required]]})}routeStops=[];filteredRouteStops=[];routes=[];isLoading=!1;errorMessage="";successMessage="";selectedRouteFilter="";isModalOpen=!1;isEditMode=!1;routeStopForm;selectedStopId=null;formMap=null;formMarker=null;selectedLat=41.0082;selectedLng=28.9784;isDetailModalOpen=!1;selectedStop=null;detailMap=null;isDeleteModalOpen=!1;stopToDelete=null;isDeleting=!1;ngOnInit(){this.loadRouteStops(),this.loadRoutes()}loadRouteStops(){this.isLoading=!0,this.errorMessage="",this.cdr.detectChanges(),this.routeStopService.getAll().subscribe({next:r=>{r.isSuccess&&r.data?(this.routeStops=r.data.sort((t,l)=>t.routeId===l.routeId?t.sequenceNumber-l.sequenceNumber:0),this.applyFilter()):(this.errorMessage=r.message||"Veri y\xFCklenemedi",this.routeStops=[],this.filteredRouteStops=[]),this.isLoading=!1,this.cdr.detectChanges()},error:r=>{console.error("Error loading route stops:",r),this.errorMessage="Duraklar y\xFCklenirken bir hata olu\u015Ftu",this.isLoading=!1,this.routeStops=[],this.filteredRouteStops=[],this.cdr.detectChanges()}})}loadRoutes(){this.routeService.getAll().subscribe({next:r=>{r.isSuccess&&r.data&&(this.routes=r.data)},error:r=>{console.error("Error loading routes:",r)}})}applyFilter(){this.selectedRouteFilter?this.filteredRouteStops=this.routeStops.filter(r=>r.routeId===this.selectedRouteFilter):this.filteredRouteStops=[...this.routeStops],this.cdr.detectChanges()}onFilterChange(){this.applyFilter()}clearFilter(){this.selectedRouteFilter="",this.applyFilter()}openAddModal(){this.isEditMode=!1,this.selectedStopId=null,this.routeStopForm.reset(),this.selectedLat=41.0082,this.selectedLng=28.9784,this.isModalOpen=!0,this.errorMessage="",this.successMessage="",this.cdr.detectChanges(),setTimeout(()=>{this.initFormMap()},100)}openEditModal(r){this.isEditMode=!0,this.selectedStopId=r.id,this.selectedLat=Number(r.latitude),this.selectedLng=Number(r.longitude),this.routeStopForm.reset(),this.routeStopForm.patchValue({routeId:r.routeId,sequenceNumber:r.sequenceNumber,city:r.city,district:r.district,address:r.address,latitude:r.latitude,longitude:r.longitude,estimatedArrivalTimeMorning:this.formatTimeForInput(r.estimatedArrivalTimeMorning),estimatedArrivalTimeEvening:this.formatTimeForInput(r.estimatedArrivalTimeEvening)}),this.isModalOpen=!0,this.errorMessage="",this.successMessage="",this.cdr.detectChanges(),setTimeout(()=>{this.initFormMap()},100)}closeModal(){this.isModalOpen=!1,this.routeStopForm.reset(),this.errorMessage="",this.successMessage="",this.selectedStopId=null,this.formMap&&(this.formMap.remove(),this.formMap=null,this.formMarker=null),this.cdr.detectChanges()}initFormMap(){if(!document.getElementById("form-map"))return;this.formMap=_.map("form-map").setView([this.selectedLat,this.selectedLng],13),_.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"\xA9 OpenStreetMap contributors"}).addTo(this.formMap);let t=_.divIcon({className:"custom-marker",html:`
        <div style="background-color: #3b82f6; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);">
          \u{1F4CD}
        </div>
      `,iconSize:[30,30],iconAnchor:[15,15]});this.formMarker=_.marker([this.selectedLat,this.selectedLng],{icon:t,draggable:!0}).addTo(this.formMap),this.formMarker.on("dragend",l=>{let d=l.target.getLatLng();this.selectedLat=d.lat,this.selectedLng=d.lng,this.routeStopForm.patchValue({latitude:d.lat.toFixed(6),longitude:d.lng.toFixed(6)}),this.cdr.detectChanges()}),this.formMap.on("click",l=>{this.selectedLat=l.latlng.lat,this.selectedLng=l.latlng.lng,this.formMarker?.setLatLng(l.latlng),this.routeStopForm.patchValue({latitude:l.latlng.lat.toFixed(6),longitude:l.latlng.lng.toFixed(6)}),this.cdr.detectChanges()})}onManualCoordinatesChange(){let r=this.routeStopForm.get("latitude")?.value,t=this.routeStopForm.get("longitude")?.value;r&&t&&(this.selectedLat=parseFloat(r),this.selectedLng=parseFloat(t),this.formMarker?.setLatLng([this.selectedLat,this.selectedLng]),this.formMap?.setView([this.selectedLat,this.selectedLng],13))}onSubmit(){if(this.routeStopForm.invalid){this.routeStopForm.markAllAsTouched();return}this.isLoading=!0,this.errorMessage="",this.successMessage="",this.cdr.detectChanges();let r=this.routeStopForm.getRawValue(),t={routeId:r.routeId,sequenceNumber:parseInt(r.sequenceNumber),city:r.city?.trim()||"",district:r.district?.trim()||"",address:r.address?.trim()||"",latitude:parseFloat(r.latitude),longitude:parseFloat(r.longitude),estimatedArrivalTimeMorning:r.estimatedArrivalTimeMorning+":00",estimatedArrivalTimeEvening:r.estimatedArrivalTimeEvening+":00"};if(this.isEditMode&&this.selectedStopId){let l=R({id:this.selectedStopId},t);this.routeStopService.update(l).subscribe({next:d=>{this.isLoading=!1,d.isSuccess?(this.successMessage="Durak ba\u015Far\u0131yla g\xFCncellendi!",this.cdr.detectChanges(),setTimeout(()=>{this.loadRouteStops(),this.closeModal()},1e3)):(this.errorMessage=d.message||"G\xFCncelleme ba\u015Far\u0131s\u0131z",this.cdr.detectChanges())},error:d=>{console.error("Update Error:",d),this.errorMessage=d.error?.message||"Durak g\xFCncellenirken bir hata olu\u015Ftu",this.isLoading=!1,this.cdr.detectChanges()}})}else this.routeStopService.create(t).subscribe({next:l=>{this.isLoading=!1,l.isSuccess?(this.successMessage="Durak ba\u015Far\u0131yla eklendi!",this.cdr.detectChanges(),setTimeout(()=>{this.loadRouteStops(),this.closeModal()},1e3)):(this.errorMessage=l.message||"Ekleme ba\u015Far\u0131s\u0131z",this.cdr.detectChanges())},error:l=>{console.error("Create Error:",l),this.errorMessage=l.error?.message||"Durak eklenirken bir hata olu\u015Ftu",this.isLoading=!1,this.cdr.detectChanges()}})}openDetailModal(r){this.selectedStop=r,this.isDetailModalOpen=!0,this.cdr.detectChanges(),setTimeout(()=>{this.initDetailMap()},100)}closeDetailModal(){this.isDetailModalOpen=!1,this.selectedStop=null,this.detailMap&&(this.detailMap.remove(),this.detailMap=null),this.cdr.detectChanges()}initDetailMap(){if(!this.selectedStop||!document.getElementById("detail-map"))return;let t=Number(this.selectedStop.latitude),l=Number(this.selectedStop.longitude);this.detailMap=_.map("detail-map").setView([t,l],15),_.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"\xA9 OpenStreetMap contributors"}).addTo(this.detailMap);let d=_.divIcon({className:"custom-marker",html:`
        <div style="background-color: #3b82f6; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.4);">
          ${this.selectedStop.sequenceNumber}
        </div>
      `,iconSize:[40,40],iconAnchor:[20,20]});_.marker([t,l],{icon:d}).addTo(this.detailMap).bindPopup(`
      <div style="min-width: 200px;">
        <h3 style="font-weight: bold; margin-bottom: 8px;">Durak ${this.selectedStop.sequenceNumber}</h3>
        <p style="margin: 4px 0;"><strong>Adres:</strong> ${this.selectedStop.address}</p>
        <p style="margin: 4px 0;"><strong>\u0130l\xE7e:</strong> ${this.selectedStop.district}, ${this.selectedStop.city}</p>
      </div>
    `).openPopup()}openDeleteModal(r){this.stopToDelete=r,this.isDeleteModalOpen=!0,this.cdr.detectChanges()}closeDeleteModal(){this.isDeleteModalOpen=!1,this.stopToDelete=null,this.cdr.detectChanges()}confirmDelete(){this.stopToDelete&&(this.isDeleting=!0,this.cdr.detectChanges(),this.routeStopService.delete(this.stopToDelete.id).subscribe({next:r=>{r.isSuccess?(this.successMessage="Durak ba\u015Far\u0131yla silindi!",this.loadRouteStops(),setTimeout(()=>{this.successMessage="",this.cdr.detectChanges()},3e3)):this.errorMessage=r.message||"Silme i\u015Flemi ba\u015Far\u0131s\u0131z",this.isDeleting=!1,this.closeDeleteModal()},error:r=>{this.errorMessage=r.error?.message||"Durak silinirken bir hata olu\u015Ftu",this.isDeleting=!1,this.closeDeleteModal()}}))}formatTime(r){return r?r.substring(0,5):"-"}formatTimeForInput(r){return r?r.substring(0,5):""}getRouteName(r){let t=this.routes.find(l=>l.id===r);return t?t.name:"Bilinmiyor"}getErrorMessage(r){let t=this.routeStopForm.get(r);return t?.hasError("required")?"Bu alan zorunludur":t?.hasError("min")?"En az 1 olmal\u0131d\u0131r":""}static \u0275fac=function(t){return new(t||o)(w(ie),w(te),w(Q),w(N))};static \u0275cmp=L({type:o,selectors:[["app-route-stops"]],decls:29,vars:11,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-gray-800","dark:text-white"],[1,"text-gray-600","dark:text-gray-400","mt-1"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition","flex","items-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-sm","border","border-gray-200","dark:border-gray-700","p-4"],[1,"flex","items-center","gap-4"],[1,"flex-1"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"pt-7"],["class","px-4 py-2.5 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition flex items-center gap-2",3,"click",4,"ngIf"],["class","bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-400 px-4 py-3 rounded-lg flex items-center gap-2 animate-fade-in",4,"ngIf"],["class","bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded-lg flex items-center gap-2",4,"ngIf"],["class","flex justify-center items-center py-12",4,"ngIf"],["class","bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",4,"ngIf"],[3,"value"],[1,"px-4","py-2.5","bg-gray-200","dark:bg-gray-700","text-gray-800","dark:text-white","rounded-lg","hover:bg-gray-300","dark:hover:bg-gray-600","transition","flex","items-center","gap-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"bg-green-50","dark:bg-green-900/30","border","border-green-200","dark:border-green-800","text-green-700","dark:text-green-400","px-4","py-3","rounded-lg","flex","items-center","gap-2","animate-fade-in"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"bg-red-50","dark:bg-red-900/30","border","border-red-200","dark:border-red-800","text-red-700","dark:text-red-400","px-4","py-3","rounded-lg","flex","items-center","gap-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex","justify-center","items-center","py-12"],[1,"flex","flex-col","items-center","gap-3"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-10","w-10","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-gray-600","dark:text-gray-400"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-sm","border","border-gray-200","dark:border-gray-700","overflow-hidden"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50","dark:bg-gray-700/50","border-b","border-gray-200","dark:border-gray-700"],[1,"px-6","py-4","text-left","text-xs","font-semibold","text-gray-600","dark:text-gray-300","uppercase","tracking-wider"],[1,"px-6","py-4","text-right","text-xs","font-semibold","text-gray-600","dark:text-gray-300","uppercase","tracking-wider"],[1,"divide-y","divide-gray-200","dark:divide-gray-700"],["class","hover:bg-gray-50 dark:hover:bg-gray-700/30 transition",4,"ngFor","ngForOf"],["class","text-center py-12",4,"ngIf"],[1,"hover:bg-gray-50","dark:hover:bg-gray-700/30","transition"],[1,"px-6","py-4"],[1,"w-10","h-10","rounded-full","bg-blue-100","dark:bg-blue-900/30","flex","items-center","justify-center"],[1,"text-lg","font-bold","text-blue-600","dark:text-blue-400"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-orange-100","dark:bg-orange-900/30","text-orange-800","dark:text-orange-400"],[1,"text-sm","font-medium","text-gray-800","dark:text-white","max-w-xs","truncate"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-xs","text-gray-500","dark:text-gray-500"],[1,"flex","flex-col","gap-1","text-xs","font-mono"],[1,"flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-orange-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"],[1,"text-sm","font-medium","text-gray-800","dark:text-white"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-indigo-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"],[1,"px-6","py-4","text-right"],[1,"flex","items-center","justify-end","gap-2"],["title","Haritada G\xF6ster",1,"p-2","text-green-600","dark:text-green-400","hover:bg-green-50","dark:hover:bg-green-900/30","rounded-lg","transition","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["title","D\xFCzenle",1,"p-2","text-blue-600","dark:text-blue-400","hover:bg-blue-50","dark:hover:bg-blue-900/30","rounded-lg","transition","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Sil",1,"p-2","text-red-600","dark:text-red-400","hover:bg-red-50","dark:hover:bg-red-900/30","rounded-lg","transition","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400","dark:text-gray-600","mx-auto","mb-4"],[1,"text-lg","font-medium","text-gray-800","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400","mb-4"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition",3,"click"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/50","backdrop-blur-sm"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","max-w-6xl","w-full","h-[90vh]","flex","flex-col"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200","dark:border-gray-700","flex-shrink-0"],[1,"text-2xl","font-bold","text-gray-800","dark:text-white"],["title","Kapat",1,"text-gray-400","hover:text-gray-600","dark:hover:text-gray-300","transition","disabled:opacity-50",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],[1,"flex-1","flex","overflow-hidden"],[1,"w-1/2","overflow-y-auto","p-6","border-r","border-gray-200","dark:border-gray-700"],["class","mb-4 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-400 px-4 py-3 rounded-lg flex items-center gap-2 animate-fade-in",4,"ngIf"],["class","mb-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded-lg flex items-center gap-2",4,"ngIf"],[1,"space-y-5",3,"ngSubmit","formGroup"],[1,"text-red-500"],["formControlName","routeId",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["class","text-red-500 text-xs mt-1.5 flex items-center gap-1",4,"ngIf"],["type","number","formControlName","sequenceNumber","min","1","placeholder","1",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["type","text","formControlName","city","placeholder","\u0130stanbul",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["type","text","formControlName","district","placeholder","Kad\u0131k\xF6y",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["formControlName","address","rows","3","placeholder","Tam adres bilgisi",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition","resize-none"],[1,"text-xs","text-gray-500","dark:text-gray-400","font-normal","ml-2"],[1,"grid","grid-cols-2","gap-4"],["type","number","formControlName","latitude","step","0.000001","placeholder","Enlem (Latitude)",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition",3,"change"],["class","text-red-500 text-xs mt-1.5",4,"ngIf"],["type","number","formControlName","longitude","step","0.000001","placeholder","Boylam (Longitude)",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition",3,"change"],["type","time","formControlName","estimatedArrivalTimeMorning",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["type","time","formControlName","estimatedArrivalTimeEvening",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],[1,"flex","items-center","justify-end","gap-3","pt-6","border-t","border-gray-200","dark:border-gray-700"],["type","button",1,"px-6","py-2.5","bg-gray-200","dark:bg-gray-700","text-gray-800","dark:text-white","rounded-lg","hover:bg-gray-300","dark:hover:bg-gray-600","transition","disabled:opacity-50","disabled:cursor-not-allowed","font-medium",3,"click","disabled"],["type","submit",1,"px-6","py-2.5","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition","disabled:bg-gray-400","disabled:cursor-not-allowed","flex","items-center","gap-2","font-medium",3,"disabled"],["class","animate-spin h-5 w-5","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"w-1/2","relative","bg-gray-100","dark:bg-gray-900"],["id","form-map",1,"absolute","inset-0"],[1,"absolute","top-4","left-4","right-4","bg-white","dark:bg-gray-800","rounded-lg","shadow-lg","p-3","border","border-gray-200","dark:border-gray-700"],[1,"text-sm","text-gray-700","dark:text-gray-300","font-medium","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mb-4","bg-green-50","dark:bg-green-900/30","border","border-green-200","dark:border-green-800","text-green-700","dark:text-green-400","px-4","py-3","rounded-lg","flex","items-center","gap-2","animate-fade-in"],[1,"mb-4","bg-red-50","dark:bg-red-900/30","border","border-red-200","dark:border-red-800","text-red-700","dark:text-red-400","px-4","py-3","rounded-lg","flex","items-center","gap-2"],[1,"text-red-500","text-xs","mt-1.5","flex","items-center","gap-1"],["fill","currentColor","viewBox","0 0 20 20",1,"w-3","h-3"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"text-red-500","text-xs","mt-1.5"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","max-w-4xl","w-full","h-[80vh]","flex","flex-col"],[1,"text-gray-600","dark:text-gray-400","text-sm","mt-1"],["title","Kapat",1,"text-gray-400","hover:text-gray-600","dark:hover:text-gray-300","transition",3,"click"],[1,"flex-1","relative"],["id","detail-map",1,"absolute","inset-0"],[1,"w-80","border-l","border-gray-200","dark:border-gray-700","overflow-y-auto","bg-gray-50","dark:bg-gray-900","p-6"],[1,"text-lg","font-bold","text-gray-800","dark:text-white","mb-4"],[1,"space-y-4"],[1,"text-xs","text-gray-500","dark:text-gray-400","uppercase","tracking-wide","mb-1"],[1,"text-xs","text-gray-500","dark:text-gray-400","uppercase","tracking-wide","mb-2"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-3","border","border-gray-200","dark:border-gray-700"],[1,"text-xs","font-mono","text-gray-600","dark:text-gray-400"],[1,"text-xs","font-mono","text-gray-600","dark:text-gray-400","mt-1"],[1,"flex","items-center","gap-2","bg-orange-50","dark:bg-orange-900/20","rounded-lg","p-2"],[1,"flex","items-center","gap-2","bg-indigo-50","dark:bg-indigo-900/20","rounded-lg","p-2"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","max-w-md","w-full","transform","transition-all"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","gap-3"],[1,"flex-shrink-0","w-12","h-12","bg-red-100","dark:bg-red-900/30","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-600","dark:text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-xl","font-bold","text-gray-800","dark:text-white"],[1,"p-6"],[1,"text-gray-600","dark:text-gray-400","mb-2"],[1,"font-semibold","text-gray-800","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-500"],[1,"flex","items-center","justify-end","gap-3","p-6","bg-gray-50","dark:bg-gray-700/50","rounded-b-xl"],["type","button",1,"px-6","py-2.5","bg-white","dark:bg-gray-700","text-gray-800","dark:text-white","border","border-gray-300","dark:border-gray-600","rounded-lg","hover:bg-gray-50","dark:hover:bg-gray-600","transition","disabled:opacity-50","disabled:cursor-not-allowed","font-medium",3,"click","disabled"],["type","button",1,"px-6","py-2.5","bg-red-600","text-white","rounded-lg","hover:bg-red-700","transition","disabled:bg-gray-400","disabled:cursor-not-allowed","flex","items-center","gap-2","font-medium",3,"click","disabled"],["class","w-5 h-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"]],template:function(t,l){t&1&&(e(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),n(4,"Duraklar"),i(),e(5,"p",3),n(6,"T\xFCm duraklar\u0131 g\xF6r\xFCnt\xFCleyin ve y\xF6netin"),i()(),e(7,"button",4),v("click",function(){return l.openAddModal()}),u(),e(8,"svg",5),m(9,"path",6),i(),n(10," Yeni Durak "),i()(),h(),e(11,"div",7)(12,"div",8)(13,"div",9)(14,"label",10),n(15," Rotaya G\xF6re Filtrele "),i(),e(16,"select",11),O("ngModelChange",function(f){return D(l.selectedRouteFilter,f)||(l.selectedRouteFilter=f),f}),v("change",function(){return l.onFilterChange()}),e(17,"option",12),n(18,"T\xFCm Rotalar"),i(),x(19,oe,2,2,"option",13),i()(),e(20,"div",14),x(21,le,4,0,"button",15),i()()(),x(22,de,5,1,"div",16)(23,se,5,1,"div",17)(24,me,7,0,"div",18)(25,ce,24,2,"div",19),i(),x(26,Ce,94,19,"div",20)(27,Fe,64,10,"div",20)(28,Re,26,7,"div",20)),t&2&&(a(7),s("disabled",l.isLoading),a(9),V("ngModel",l.selectedRouteFilter),a(3),s("ngForOf",l.routes),a(2),s("ngIf",l.selectedRouteFilter),a(),s("ngIf",l.successMessage&&!l.isModalOpen&&!l.isDetailModalOpen),a(),s("ngIf",l.errorMessage&&!l.isModalOpen&&!l.isDetailModalOpen),a(),s("ngIf",l.isLoading&&!l.isModalOpen),a(),s("ngIf",!l.isLoading),a(),s("ngIf",l.isModalOpen),a(),s("ngIf",l.isDetailModalOpen),a(),s("ngIf",l.isDeleteModalOpen))},dependencies:[z,A,G,ee,P,Z,U,j,$,W,H,q,J,Y,K,X,B],styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .3s ease-out}#form-map[_ngcontent-%COMP%], #detail-map[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:0}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e0;border-radius:4px}.dark[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4a5568}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0aec0}.dark[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#718096}.leaflet-popup-content-wrapper[_ngcontent-%COMP%]{border-radius:8px}.leaflet-popup-content[_ngcontent-%COMP%]{margin:12px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]})};export{re as RouteStopsComponent};
