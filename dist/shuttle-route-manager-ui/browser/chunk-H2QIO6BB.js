import{a as Z}from"./chunk-J22EIPNH.js";import{a as te}from"./chunk-OGM6BETX.js";import{a as ee}from"./chunk-HNKISDOU.js";import{b as G,c as b,d as j,e as A,g as H,h as P,i as R,j as Y,k as $,l as K,m as q,n as U,o as Q,p as J,q as W,s as X}from"./chunk-C3YQDD43.js";import"./chunk-K2W5W2RN.js";import{Ba as S,Ga as B,Jb as L,Ka as g,Kb as O,Ob as z,Pb as N,Ra as s,Sa as e,Ta as i,U as y,Ua as d,V as h,W as p,X as v,Xa as E,Ya as f,Za as u,a as I,cb as a,db as k,eb as x,fb as F,nb as V,pb as T,ta as o,wb as D}from"./chunk-5JI3WXRX.js";function re(n,r){if(n&1&&(e(0,"div",12),p(),e(1,"svg",13),d(2,"path",14),i(),v(),e(3,"span"),a(4),i()()),n&2){let t=u();o(4),k(t.successMessage)}}function ne(n,r){if(n&1&&(e(0,"div",15),p(),e(1,"svg",13),d(2,"path",16),i(),v(),e(3,"span"),a(4),i()()),n&2){let t=u();o(4),k(t.errorMessage)}}function ae(n,r){n&1&&(e(0,"div",17)(1,"div",18),p(),e(2,"svg",19),d(3,"circle",20)(4,"path",21),i(),v(),e(5,"p",22),a(6,"Y\xFCkleniyor..."),i()()())}function oe(n,r){if(n&1&&(e(0,"span",56),p(),e(1,"svg",44),d(2,"path",57),i(),a(3),i()),n&2){let t=u().$implicit;o(3),x(" ",t.defaultDriver.fullName," ")}}function le(n,r){n&1&&(e(0,"span",58),a(1," Atanmam\u0131\u015F "),i())}function se(n,r){if(n&1&&(e(0,"span",61)(1,"div",62),p(),e(2,"svg",63),d(3,"path",64),i()(),v(),e(4,"div",65)(5,"p",66),a(6),i(),e(7,"p",67),p(),e(8,"svg",44),d(9,"path",57),i(),a(10),i()()()),n&2){let t=r.$implicit;o(6),k(t.name),o(4),x(" ",t.driver.fullName," ")}}function de(n,r){if(n&1&&(e(0,"div",59),g(1,se,11,2,"span",60),i()),n&2){let t=u().$implicit;o(),s("ngForOf",t.routes)}}function me(n,r){n&1&&(e(0,"span",58),a(1," Rota yok "),i())}function ce(n,r){if(n&1){let t=E();e(0,"tr",32)(1,"td",33)(2,"div",34)(3,"div",35),p(),e(4,"svg",36),d(5,"path",37)(6,"path",38),i()(),v(),e(7,"div")(8,"p",39),a(9),i()()()(),e(10,"td",33)(11,"p",40),a(12),i(),e(13,"p",41),a(14),i()(),e(15,"td",42),a(16),i(),e(17,"td",33)(18,"span",43),p(),e(19,"svg",44),d(20,"path",45),i(),a(21),i()(),v(),e(22,"td",42),a(23),V(24,"number"),i(),e(25,"td",33)(26,"span",46),a(27),i()(),e(28,"td",33),g(29,oe,4,1,"span",47)(30,le,2,0,"span",48),i(),e(31,"td",33),g(32,de,2,1,"div",49)(33,me,2,0,"span",48),i(),e(34,"td",50)(35,"div",51)(36,"button",52),f("click",function(){let m=y(t).$implicit,_=u(2);return h(_.openEditModal(m))}),p(),e(37,"svg",5),d(38,"path",53),i()(),v(),e(39,"button",54),f("click",function(){let m=y(t).$implicit,_=u(2);return h(_.openDeleteModal(m))}),p(),e(40,"svg",5),d(41,"path",55),i()()()()()}if(n&2){let t=r.$implicit,l=u(2);o(9),k(t.plateNo),o(3),k(t.brand),o(2),k(t.model),o(2),x(" ",t.year," "),o(5),x(" ",t.capacity," Ki\u015Fi "),o(2),x(" ",T(24,13,t.km,"1.0-0")," km "),o(4),x(" ",(t.company==null?null:t.company.name)||l.getCompanyName(t.companyId)," "),o(2),s("ngIf",t.defaultDriver),o(),s("ngIf",!t.defaultDriver),o(2),s("ngIf",t.routes&&t.routes.length>0),o(),s("ngIf",!t.routes||t.routes.length===0),o(3),s("disabled",l.isLoading),o(3),s("disabled",l.isLoading)}}function pe(n,r){if(n&1){let t=E();e(0,"div",68),p(),e(1,"svg",69),d(2,"path",37)(3,"path",38),i(),v(),e(4,"h3",70),a(5,"Hen\xFCz servis yok"),i(),e(6,"p",71),a(7,"\u0130lk servisinizi ekleyerek ba\u015Flay\u0131n"),i(),e(8,"button",72),f("click",function(){y(t);let m=u(2);return h(m.openAddModal())}),a(9," Servis Ekle "),i()()}}function ue(n,r){if(n&1&&(e(0,"div",23)(1,"div",24)(2,"table",25)(3,"thead",26)(4,"tr")(5,"th",27),a(6," Plaka "),i(),e(7,"th",27),a(8," Marka & Model "),i(),e(9,"th",27),a(10," Y\u0131l "),i(),e(11,"th",27),a(12," Kapasite "),i(),e(13,"th",27),a(14," Kilometre "),i(),e(15,"th",27),a(16," \u015Eirket "),i(),e(17,"th",27),a(18," Ana \u015Eof\xF6r "),i(),e(19,"th",27),a(20," Rotalar "),i(),e(21,"th",28),a(22," \u0130\u015Flemler "),i()()(),e(23,"tbody",29),g(24,ce,42,16,"tr",30),i()()(),g(25,pe,10,0,"div",31),i()),n&2){let t=u();o(24),s("ngForOf",t.buses),o(),s("ngIf",t.buses.length===0)}}function ge(n,r){if(n&1&&(e(0,"div",105),p(),e(1,"svg",13),d(2,"path",14),i(),v(),e(3,"span"),a(4),i()()),n&2){let t=u(2);o(4),k(t.successMessage)}}function xe(n,r){if(n&1&&(e(0,"div",106),p(),e(1,"svg",13),d(2,"path",16),i(),v(),e(3,"span"),a(4),i()()),n&2){let t=u(2);o(4),k(t.errorMessage)}}function be(n,r){if(n&1&&(e(0,"p",107),p(),e(1,"svg",108),d(2,"path",109),i(),a(3),i()),n&2){let t=u(2);o(3),x(" ",t.getErrorMessage("plateNo")," ")}}function ve(n,r){if(n&1&&(e(0,"p",107),p(),e(1,"svg",108),d(2,"path",109),i(),a(3),i()),n&2){let t=u(2);o(3),x(" ",t.getErrorMessage("brand")," ")}}function fe(n,r){if(n&1&&(e(0,"p",107),p(),e(1,"svg",108),d(2,"path",109),i(),a(3),i()),n&2){let t=u(2);o(3),x(" ",t.getErrorMessage("model")," ")}}function ye(n,r){if(n&1&&(e(0,"p",107),p(),e(1,"svg",108),d(2,"path",109),i(),a(3),i()),n&2){let t=u(2);o(3),x(" ",t.getErrorMessage("year")," ")}}function he(n,r){if(n&1&&(e(0,"p",107),p(),e(1,"svg",108),d(2,"path",109),i(),a(3),i()),n&2){let t=u(2);o(3),x(" ",t.getErrorMessage("capacity")," ")}}function _e(n,r){if(n&1&&(e(0,"p",107),p(),e(1,"svg",108),d(2,"path",109),i(),a(3),i()),n&2){let t=u(2);o(3),x(" ",t.getErrorMessage("km")," ")}}function ke(n,r){if(n&1&&(e(0,"option",110),a(1),i()),n&2){let t=r.$implicit;s("value",t.id),o(),x(" ",t.name," ")}}function Se(n,r){if(n&1&&(e(0,"p",107),p(),e(1,"svg",108),d(2,"path",109),i(),a(3),i()),n&2){let t=u(2);o(3),x(" ",t.getErrorMessage("companyId")," ")}}function Ee(n,r){if(n&1&&(e(0,"option",110),a(1),i()),n&2){let t=r.$implicit;s("value",t.id),o(),F(" ",t.firstName," ",t.lastName," ")}}function Ce(n,r){n&1&&(p(),e(0,"svg",111),d(1,"circle",20)(2,"path",21),i())}function we(n,r){if(n&1){let t=E();e(0,"div",73)(1,"div",74)(2,"div",75)(3,"h2",76),a(4),i(),e(5,"button",77),f("click",function(){y(t);let m=u();return h(m.closeModal())}),p(),e(6,"svg",78),d(7,"path",79),i()()(),v(),e(8,"div",80),g(9,ge,5,1,"div",81)(10,xe,5,1,"div",82),e(11,"form",83),f("ngSubmit",function(){y(t);let m=u();return h(m.onSubmit())}),e(12,"div")(13,"label",84),a(14," Plaka Numaras\u0131 "),e(15,"span",85),a(16,"*"),i()(),d(17,"input",86),g(18,be,4,1,"p",87),i(),e(19,"div",88)(20,"div")(21,"label",84),a(22," Marka "),e(23,"span",85),a(24,"*"),i()(),d(25,"input",89),g(26,ve,4,1,"p",87),i(),e(27,"div")(28,"label",84),a(29," Model "),e(30,"span",85),a(31,"*"),i()(),d(32,"input",90),g(33,fe,4,1,"p",87),i()(),e(34,"div",91)(35,"div")(36,"label",84),a(37," Model Y\u0131l\u0131 "),e(38,"span",85),a(39,"*"),i()(),d(40,"input",92),g(41,ye,4,1,"p",87),i(),e(42,"div")(43,"label",84),a(44," Kapasite "),e(45,"span",85),a(46,"*"),i()(),d(47,"input",93),g(48,he,4,1,"p",87),i(),e(49,"div")(50,"label",84),a(51," Kilometre "),e(52,"span",85),a(53,"*"),i()(),d(54,"input",94),g(55,_e,4,1,"p",87),i()(),e(56,"div")(57,"label",84),a(58," \u015Eirket "),e(59,"span",85),a(60,"*"),i()(),e(61,"select",95)(62,"option",96),a(63,"\u015Eirket Se\xE7iniz"),i(),g(64,ke,2,2,"option",97),i(),g(65,Se,4,1,"p",87),i(),e(66,"div")(67,"label",84),a(68," Ana \u015Eof\xF6r "),e(69,"span",98),a(70,"(Opsiyonel)"),i()(),e(71,"select",99)(72,"option",96),a(73,"\u015Eof\xF6r Se\xE7iniz (\u0130ste\u011Fe Ba\u011Fl\u0131)"),i(),g(74,Ee,2,3,"option",97),i(),e(75,"p",100),a(76," Bu servise varsay\u0131lan bir \u015Fof\xF6r atayabilirsiniz. Rotalar i\xE7in farkl\u0131 \u015Fof\xF6rler se\xE7ilebilir. "),i()(),e(77,"div",101)(78,"button",102),f("click",function(){y(t);let m=u();return h(m.closeModal())}),a(79," \u0130ptal "),i(),e(80,"button",103),g(81,Ce,3,0,"svg",104),a(82),i()()()()()()}if(n&2){let t,l,m,_,C,w,M,c=u();o(4),x(" ",c.isEditMode?"Servis D\xFCzenle":"Yeni Servis Ekle"," "),o(),s("disabled",c.isLoading),o(4),s("ngIf",c.successMessage),o(),s("ngIf",c.errorMessage),o(),s("formGroup",c.busForm),o(7),s("ngIf",((t=c.busForm.get("plateNo"))==null?null:t.invalid)&&((t=c.busForm.get("plateNo"))==null?null:t.touched)),o(8),s("ngIf",((l=c.busForm.get("brand"))==null?null:l.invalid)&&((l=c.busForm.get("brand"))==null?null:l.touched)),o(7),s("ngIf",((m=c.busForm.get("model"))==null?null:m.invalid)&&((m=c.busForm.get("model"))==null?null:m.touched)),o(7),s("max",c.currentYear+1),o(),s("ngIf",((_=c.busForm.get("year"))==null?null:_.invalid)&&((_=c.busForm.get("year"))==null?null:_.touched)),o(7),s("ngIf",((C=c.busForm.get("capacity"))==null?null:C.invalid)&&((C=c.busForm.get("capacity"))==null?null:C.touched)),o(7),s("ngIf",((w=c.busForm.get("km"))==null?null:w.invalid)&&((w=c.busForm.get("km"))==null?null:w.touched)),o(9),s("ngForOf",c.companies),o(),s("ngIf",((M=c.busForm.get("companyId"))==null?null:M.invalid)&&((M=c.busForm.get("companyId"))==null?null:M.touched)),o(9),s("ngForOf",c.drivers),o(4),s("disabled",c.isLoading),o(2),s("disabled",c.isLoading||c.busForm.invalid),o(),s("ngIf",c.isLoading),o(),x(" ",c.isLoading?"Kaydediliyor...":c.isEditMode?"G\xFCncelle":"Kaydet"," ")}}function Me(n,r){n&1&&(p(),e(0,"svg",111),d(1,"circle",20)(2,"path",21),i())}function Ie(n,r){n&1&&(p(),e(0,"svg",5),d(1,"path",55),i())}function Be(n,r){if(n&1){let t=E();e(0,"div",73)(1,"div",112)(2,"div",113)(3,"div",34)(4,"div",114),p(),e(5,"svg",115),d(6,"path",116),i()(),v(),e(7,"h2",117),a(8," Servisi Sil "),i()(),e(9,"button",77),f("click",function(){y(t);let m=u();return h(m.closeDeleteModal())}),p(),e(10,"svg",78),d(11,"path",79),i()()(),v(),e(12,"div",80)(13,"p",118)(14,"span",119),a(15),i(),a(16," plakal\u0131 servisi silmek istedi\u011Finizden emin misiniz? "),i(),e(17,"p",120),a(18," Bu i\u015Flem geri al\u0131namaz. "),i()(),e(19,"div",121)(20,"button",122),f("click",function(){y(t);let m=u();return h(m.closeDeleteModal())}),a(21," \u0130ptal "),i(),e(22,"button",123),f("click",function(){y(t);let m=u();return h(m.confirmDelete())}),g(23,Me,3,0,"svg",104)(24,Ie,2,0,"svg",124),a(25),i()()()()}if(n&2){let t=u();o(9),s("disabled",t.isDeleting),o(6),x('"',t.busToDelete==null?null:t.busToDelete.plateNo,'"'),o(5),s("disabled",t.isDeleting),o(2),s("disabled",t.isDeleting),o(),s("ngIf",t.isDeleting),o(),s("ngIf",!t.isDeleting),o(),x(" ",t.isDeleting?"Siliniyor...":"Evet, Sil"," ")}}var ie=class n{constructor(r,t,l,m,_){this.busService=r;this.companyService=t;this.driverService=l;this.fb=m;this.cdr=_;this.busForm=this.fb.group({plateNo:["",[b.required,b.maxLength(10)]],brand:["",[b.required,b.minLength(2)]],model:["",[b.required,b.minLength(2)]],year:["",[b.required,b.min(1990),b.max(this.currentYear+1)]],capacity:["",[b.required,b.min(1),b.max(100)]],km:["",[b.required,b.min(0)]],companyId:["",[b.required]],defaultDriverId:[""]})}buses=[];companies=[];drivers=[];isLoading=!1;errorMessage="";successMessage="";isModalOpen=!1;isEditMode=!1;busForm;selectedBusId=null;isDeleteModalOpen=!1;busToDelete=null;isDeleting=!1;currentYear=new Date().getFullYear();ngOnInit(){this.loadBuses(),this.loadCompanies(),this.loadDrivers()}loadBuses(){this.isLoading=!0,this.errorMessage="",this.cdr.detectChanges(),this.busService.getAll().subscribe({next:r=>{console.log("API Response:",r),r.isSuccess&&r.data?(this.buses=r.data,console.log("Buses loaded:",this.buses)):(this.errorMessage=r.message||"Veri y\xFCklenemedi",this.buses=[]),this.isLoading=!1,this.cdr.detectChanges()},error:r=>{console.error("Error loading buses:",r),this.errorMessage="Servisler y\xFCklenirken bir hata olu\u015Ftu",this.isLoading=!1,this.buses=[],this.cdr.detectChanges()}})}loadCompanies(){this.companyService.getAll().subscribe({next:r=>{r.isSuccess&&r.data&&(this.companies=r.data)},error:r=>{console.error("Error loading companies:",r)}})}loadDrivers(){this.driverService.getAll().subscribe({next:r=>{r.isSuccess&&r.data&&(this.drivers=r.data)},error:r=>{console.error("Error loading drivers:",r)}})}openAddModal(){this.isEditMode=!1,this.selectedBusId=null,this.busForm.reset(),this.isModalOpen=!0,this.errorMessage="",this.successMessage="",this.cdr.detectChanges()}openEditModal(r){console.log("Opening edit modal for bus:",r),this.isEditMode=!0,this.selectedBusId=r.id,this.busForm.reset(),this.busForm.patchValue({plateNo:r.plateNo,brand:r.brand,model:r.model,year:r.year,capacity:r.capacity,km:r.km,companyId:r.companyId,defaultDriverId:r.defaultDriverId||""}),console.log("Form after patchValue:",this.busForm.value),this.isModalOpen=!0,this.errorMessage="",this.successMessage="",this.cdr.detectChanges()}closeModal(){this.isModalOpen=!1,this.busForm.reset(),this.errorMessage="",this.successMessage="",this.selectedBusId=null,this.cdr.detectChanges()}onSubmit(){if(console.log("=== FORM SUBMIT BA\u015ELADI ==="),console.log("Form Valid:",this.busForm.valid),console.log("Form Value:",this.busForm.value),this.busForm.invalid){this.busForm.markAllAsTouched(),console.log("Form ge\xE7ersiz, submit iptal edildi");return}this.isLoading=!0,this.errorMessage="",this.successMessage="",this.cdr.detectChanges();let r=this.busForm.getRawValue(),t={plateNo:r.plateNo?.trim().toUpperCase()||"",brand:r.brand?.trim()||"",model:r.model?.trim()||"",year:parseInt(r.year),capacity:parseInt(r.capacity),km:parseFloat(r.km),companyId:r.companyId,defaultDriverId:r.defaultDriverId||null};if(console.log("G\xD6NDERILECEK DATA:",t),this.isEditMode&&this.selectedBusId){let l=I({id:this.selectedBusId},t);console.log("=== UPDATE REQUEST ==="),console.log("Update Data:",l),this.busService.update(l).subscribe({next:m=>{console.log("Update Response:",m),this.isLoading=!1,m.isSuccess?(this.successMessage="Servis ba\u015Far\u0131yla g\xFCncellendi!",this.cdr.detectChanges(),setTimeout(()=>{this.loadBuses(),this.closeModal()},1e3)):(this.errorMessage=m.message||"G\xFCncelleme ba\u015Far\u0131s\u0131z",this.cdr.detectChanges())},error:m=>{console.error("Update Error:",m),this.errorMessage=m.error?.message||"Servis g\xFCncellenirken bir hata olu\u015Ftu",this.isLoading=!1,this.cdr.detectChanges()}})}else console.log("=== CREATE REQUEST ==="),console.log("Create Data:",t),this.busService.create(t).subscribe({next:l=>{console.log("Create Response:",l),this.isLoading=!1,l.isSuccess?(this.successMessage="Servis ba\u015Far\u0131yla eklendi!",this.cdr.detectChanges(),setTimeout(()=>{this.loadBuses(),this.closeModal()},1e3)):(this.errorMessage=l.message||"Ekleme ba\u015Far\u0131s\u0131z",this.cdr.detectChanges())},error:l=>{console.error("Create Error:",l),this.errorMessage=l.error?.message||"Servis eklenirken bir hata olu\u015Ftu",this.isLoading=!1,this.cdr.detectChanges()}})}openDeleteModal(r){this.busToDelete=r,this.isDeleteModalOpen=!0,this.cdr.detectChanges()}closeDeleteModal(){this.isDeleteModalOpen=!1,this.busToDelete=null,this.cdr.detectChanges()}confirmDelete(){this.busToDelete&&(this.isDeleting=!0,this.cdr.detectChanges(),this.busService.delete(this.busToDelete.id).subscribe({next:r=>{r.isSuccess?(this.successMessage="Servis ba\u015Far\u0131yla silindi!",this.loadBuses(),setTimeout(()=>{this.successMessage="",this.cdr.detectChanges()},3e3)):this.errorMessage=r.message||"Silme i\u015Flemi ba\u015Far\u0131s\u0131z",this.isDeleting=!1,this.closeDeleteModal()},error:r=>{this.errorMessage=r.error?.message||"Servis silinirken bir hata olu\u015Ftu",this.isDeleting=!1,this.closeDeleteModal()}}))}getCompanyName(r){let t=this.companies.find(l=>l.id===r);return t?t.name:"Bilinmiyor"}getDriverName(r){let t=this.drivers.find(l=>l.id===r);return t?`${t.firstName} ${t.lastName}`:"Bilinmiyor"}getErrorMessage(r){let t=this.busForm.get(r);if(t?.hasError("required"))return"Bu alan zorunludur";if(t?.hasError("minlength"))return"En az 2 karakter olmal\u0131d\u0131r";if(t?.hasError("maxlength"))return"En fazla 10 karakter olabilir";if(t?.hasError("min")){if(r==="year")return"1990 ve sonras\u0131 olmal\u0131d\u0131r";if(r==="capacity")return"En az 1 olmal\u0131d\u0131r";if(r==="km")return"0 veya daha b\xFCy\xFCk olmal\u0131d\u0131r"}if(t?.hasError("max")){if(r==="year")return`En fazla ${this.currentYear+1} olabilir`;if(r==="capacity")return"En fazla 100 olabilir"}return""}static \u0275fac=function(t){return new(t||n)(S(te),S(Z),S(ee),S(W),S(D))};static \u0275cmp=B({type:n,selectors:[["app-buses"]],decls:17,vars:7,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-gray-800","dark:text-white"],[1,"text-gray-600","dark:text-gray-400","mt-1"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition","flex","items-center","gap-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],["class","bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-400 px-4 py-3 rounded-lg flex items-center gap-2 animate-fade-in",4,"ngIf"],["class","bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded-lg flex items-center gap-2",4,"ngIf"],["class","flex justify-center items-center py-12",4,"ngIf"],["class","bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",4,"ngIf"],[1,"bg-green-50","dark:bg-green-900/30","border","border-green-200","dark:border-green-800","text-green-700","dark:text-green-400","px-4","py-3","rounded-lg","flex","items-center","gap-2","animate-fade-in"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"bg-red-50","dark:bg-red-900/30","border","border-red-200","dark:border-red-800","text-red-700","dark:text-red-400","px-4","py-3","rounded-lg","flex","items-center","gap-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex","justify-center","items-center","py-12"],[1,"flex","flex-col","items-center","gap-3"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-10","w-10","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-gray-600","dark:text-gray-400"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-sm","border","border-gray-200","dark:border-gray-700","overflow-hidden"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50","dark:bg-gray-700/50","border-b","border-gray-200","dark:border-gray-700"],[1,"px-6","py-4","text-left","text-xs","font-semibold","text-gray-600","dark:text-gray-300","uppercase","tracking-wider"],[1,"px-6","py-4","text-right","text-xs","font-semibold","text-gray-600","dark:text-gray-300","uppercase","tracking-wider"],[1,"divide-y","divide-gray-200","dark:divide-gray-700"],["class","hover:bg-gray-50 dark:hover:bg-gray-700/30 transition",4,"ngFor","ngForOf"],["class","text-center py-12",4,"ngIf"],[1,"hover:bg-gray-50","dark:hover:bg-gray-700/30","transition"],[1,"px-6","py-4"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","rounded-lg","bg-green-100","dark:bg-green-900/30","flex","items-center","justify-center","flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600","dark:text-green-400"],["d","M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"],[1,"font-bold","text-gray-800","dark:text-white","text-lg"],[1,"font-medium","text-gray-800","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"px-6","py-4","text-sm","text-gray-600","dark:text-gray-400"],[1,"inline-flex","items-center","gap-1","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","dark:bg-blue-900/30","text-blue-800","dark:text-blue-400"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-purple-100","dark:bg-purple-900/30","text-purple-800","dark:text-purple-400"],["class","inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-400",4,"ngIf"],["class","text-gray-400 dark:text-gray-500 text-xs italic",4,"ngIf"],["class","flex flex-col gap-1",4,"ngIf"],[1,"px-6","py-4","text-right"],[1,"flex","items-center","justify-end","gap-2"],["title","D\xFCzenle",1,"p-2","text-blue-600","dark:text-blue-400","hover:bg-blue-50","dark:hover:bg-blue-900/30","rounded-lg","transition","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Sil",1,"p-2","text-red-600","dark:text-red-400","hover:bg-red-50","dark:hover:bg-red-900/30","rounded-lg","transition","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"inline-flex","items-center","gap-1","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-indigo-100","dark:bg-indigo-900/30","text-indigo-800","dark:text-indigo-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-gray-400","dark:text-gray-500","text-xs","italic"],[1,"flex","flex-col","gap-1"],["class","inline-flex items-start gap-1 px-2.5 py-1.5 rounded-lg text-xs bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 w-fit",4,"ngFor","ngForOf"],[1,"inline-flex","items-start","gap-1","px-2.5","py-1.5","rounded-lg","text-xs","bg-orange-50","dark:bg-orange-900/20","border","border-orange-200","dark:border-orange-800","w-fit"],[1,"flex-shrink-0","mt-0.5"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","text-orange-600","dark:text-orange-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"],[1,"flex-1"],[1,"font-medium","text-orange-800","dark:text-orange-400"],[1,"text-orange-600","dark:text-orange-500","mt-0.5","flex","items-center","gap-1"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-400","dark:text-gray-600","mx-auto","mb-4"],[1,"text-lg","font-medium","text-gray-800","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400","mb-4"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition",3,"click"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/50","backdrop-blur-sm"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","max-w-2xl","w-full","max-h-[90vh]","overflow-y-auto"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200","dark:border-gray-700","sticky","top-0","bg-white","dark:bg-gray-800","z-10"],[1,"text-2xl","font-bold","text-gray-800","dark:text-white"],["title","Kapat",1,"text-gray-400","hover:text-gray-600","dark:hover:text-gray-300","transition","disabled:opacity-50",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-6"],["class","mb-4 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-400 px-4 py-3 rounded-lg flex items-center gap-2 animate-fade-in",4,"ngIf"],["class","mb-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded-lg flex items-center gap-2",4,"ngIf"],[1,"space-y-5",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-red-500"],["type","text","formControlName","plateNo","maxlength","10","placeholder","34ABC123",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition","uppercase"],["class","text-red-500 text-xs mt-1.5 flex items-center gap-1",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["type","text","formControlName","brand","placeholder","Mercedes, Temsa, vb.",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["type","text","formControlName","model","placeholder","Travego, Avenue, vb.",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["type","number","formControlName","year","min","1990","placeholder","2024",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition",3,"max"],["type","number","formControlName","capacity","min","1","max","100","placeholder","45",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["type","number","formControlName","km","min","0","step","0.01","placeholder","150000",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["formControlName","companyId",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"text-gray-400","text-xs"],["formControlName","defaultDriverId",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1"],[1,"flex","items-center","justify-end","gap-3","pt-6","border-t","border-gray-200","dark:border-gray-700"],["type","button",1,"px-6","py-2.5","bg-gray-200","dark:bg-gray-700","text-gray-800","dark:text-white","rounded-lg","hover:bg-gray-300","dark:hover:bg-gray-600","transition","disabled:opacity-50","disabled:cursor-not-allowed","font-medium",3,"click","disabled"],["type","submit",1,"px-6","py-2.5","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition","disabled:bg-gray-400","disabled:cursor-not-allowed","flex","items-center","gap-2","font-medium",3,"disabled"],["class","animate-spin h-5 w-5","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"mb-4","bg-green-50","dark:bg-green-900/30","border","border-green-200","dark:border-green-800","text-green-700","dark:text-green-400","px-4","py-3","rounded-lg","flex","items-center","gap-2","animate-fade-in"],[1,"mb-4","bg-red-50","dark:bg-red-900/30","border","border-red-200","dark:border-red-800","text-red-700","dark:text-red-400","px-4","py-3","rounded-lg","flex","items-center","gap-2"],[1,"text-red-500","text-xs","mt-1.5","flex","items-center","gap-1"],["fill","currentColor","viewBox","0 0 20 20",1,"w-3","h-3"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[3,"value"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","max-w-md","w-full","transform","transition-all"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200","dark:border-gray-700"],[1,"flex-shrink-0","w-12","h-12","bg-red-100","dark:bg-red-900/30","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-600","dark:text-red-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-xl","font-bold","text-gray-800","dark:text-white"],[1,"text-gray-600","dark:text-gray-400","mb-2"],[1,"font-semibold","text-gray-800","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-500"],[1,"flex","items-center","justify-end","gap-3","p-6","bg-gray-50","dark:bg-gray-700/50","rounded-b-xl"],["type","button",1,"px-6","py-2.5","bg-white","dark:bg-gray-700","text-gray-800","dark:text-white","border","border-gray-300","dark:border-gray-600","rounded-lg","hover:bg-gray-50","dark:hover:bg-gray-600","transition","disabled:opacity-50","disabled:cursor-not-allowed","font-medium",3,"click","disabled"],["type","button",1,"px-6","py-2.5","bg-red-600","text-white","rounded-lg","hover:bg-red-700","transition","disabled:bg-gray-400","disabled:cursor-not-allowed","flex","items-center","gap-2","font-medium",3,"click","disabled"],["class","w-5 h-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"]],template:function(t,l){t&1&&(e(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),a(4,"Servisler"),i(),e(5,"p",3),a(6,"T\xFCm servisleri g\xF6r\xFCnt\xFCleyin ve y\xF6netin"),i()(),e(7,"button",4),f("click",function(){return l.openAddModal()}),p(),e(8,"svg",5),d(9,"path",6),i(),a(10," Yeni Servis "),i()(),g(11,re,5,1,"div",7)(12,ne,5,1,"div",8)(13,ae,7,0,"div",9)(14,ue,26,2,"div",10),i(),g(15,we,83,19,"div",11)(16,Be,26,7,"div",11)),t&2&&(o(7),s("disabled",l.isLoading),o(4),s("ngIf",l.successMessage&&!l.isModalOpen),o(),s("ngIf",l.errorMessage&&!l.isModalOpen),o(),s("ngIf",l.isLoading&&!l.isModalOpen),o(),s("ngIf",!l.isLoading),o(),s("ngIf",l.isModalOpen),o(),s("ngIf",l.isDeleteModalOpen))},dependencies:[N,L,O,X,H,K,q,G,P,$,j,A,J,Q,U,Y,R,z],styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .3s ease-out}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e0;border-radius:4px}.dark[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4a5568}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0aec0}.dark[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#718096}"]})};export{ie as BusesComponent};
