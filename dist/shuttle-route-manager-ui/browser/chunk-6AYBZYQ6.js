import{a as W}from"./chunk-XHCXKUJP.js";import{a as te}from"./chunk-VNNXU67K.js";import{b as j,c as b,d as G,e as R,g as B,h as H,i as q,j as U,k as K,l as Y,m as $,q as J,s as Z}from"./chunk-C3YQDD43.js";import{a as Q}from"./chunk-K2W5W2RN.js";import{Ba as C,Ga as T,Jb as O,K as I,Ka as g,Kb as D,O as N,Pb as z,Ra as m,Sa as t,Ta as i,U as v,Ua as p,V as y,W as f,X as h,Xa as S,Ya as _,Za as s,bb as F,cb as r,d as ee,db as x,eb as k,fb as P,gb as V,ta as a,wb as A}from"./chunk-5JI3WXRX.js";var w=ee(te());var L=class n{constructor(o){this.apiService=o}endpoint="/users";getProfile(o){return this.apiService.get(`${this.endpoint}/${o}`)}updateProfile(o){return this.apiService.put(this.endpoint,o)}static \u0275fac=function(e){return new(e||n)(N(Q))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})};function ne(n,o){if(n&1&&(t(0,"div",9),f(),t(1,"svg",10),p(2,"path",11),i(),h(),t(3,"span"),r(4),i()()),n&2){let e=s();a(4),x(e.successMessage)}}function oe(n,o){if(n&1&&(t(0,"div",12),f(),t(1,"svg",10),p(2,"path",13),i(),h(),t(3,"span"),r(4),i()()),n&2){let e=s();a(4),x(e.errorMessage)}}function ae(n,o){n&1&&(t(0,"div",14)(1,"div",15),f(),t(2,"svg",16),p(3,"circle",17)(4,"path",18),i(),h(),t(5,"p",19),r(6,"Y\xFCkleniyor..."),i()()())}function le(n,o){if(n&1&&(t(0,"div",30)(1,"div",49),f(),t(2,"svg",50),p(3,"path",38)(4,"path",39),i()(),h(),t(5,"div")(6,"p",34),r(7,"Varsay\u0131lan Durak"),i(),t(8,"p",35),r(9),i()()()),n&2){let e=s(2);a(9),x(e.getDefaultStopName(e.user.defaultRouteStopId))}}function de(n,o){if(n&1){let e=S();t(0,"div")(1,"div",51)(2,"h3",52),r(3,"Profil Bilgileri"),i(),t(4,"button",53),_("click",function(){v(e);let d=s(3);return y(d.enableEditMode())}),f(),t(5,"svg",54),p(6,"path",55),i(),r(7," D\xFCzenle "),i()(),h(),t(8,"div",0)(9,"div",56)(10,"div")(11,"p",57),r(12,"Ad"),i(),t(13,"p",35),r(14),i()(),t(15,"div")(16,"p",57),r(17,"Soyad"),i(),t(18,"p",35),r(19),i()(),t(20,"div")(21,"p",57),r(22,"Email"),i(),t(23,"p",35),r(24),i()(),t(25,"div")(26,"p",57),r(27,"Telefon"),i(),t(28,"p",35),r(29),i()()(),t(30,"div",58)(31,"h4",59),r(32,"Adres Bilgileri"),i(),t(33,"div",56)(34,"div")(35,"p",57),r(36,"\u015Eehir"),i(),t(37,"p",35),r(38),i()(),t(39,"div")(40,"p",57),r(41,"\u0130l\xE7e"),i(),t(42,"p",35),r(43),i()(),t(44,"div",60)(45,"p",57),r(46,"Adres"),i(),t(47,"p",35),r(48),i()()()(),t(49,"div",58)(50,"h4",59),r(51,"GPS Koordinatlar\u0131"),i(),t(52,"div",61)(53,"div",62)(54,"div")(55,"p",63),r(56,"Enlem (Latitude)"),i(),t(57,"p",64),r(58),i()(),t(59,"div")(60,"p",63),r(61,"Boylam (Longitude)"),i(),t(62,"p",64),r(63),i()()()()()()()}if(n&2){let e=s(3);a(14),x(e.user.firstName),a(5),x(e.user.lastName),a(5),x(e.user.email),a(5),x(e.user.phoneNumber),a(9),x(e.user.homeCity),a(5),x(e.user.homeDistrict),a(5),x(e.user.homeAddress),a(10),x(e.user.homeLatitude),a(5),x(e.user.homeLongitude)}}function se(n,o){if(n&1&&(t(0,"p",90),r(1),i()),n&2){let e=s(4);a(),k(" ",e.getErrorMessage("firstName")," ")}}function me(n,o){if(n&1&&(t(0,"p",90),r(1),i()),n&2){let e=s(4);a(),k(" ",e.getErrorMessage("lastName")," ")}}function pe(n,o){if(n&1&&(t(0,"p",90),r(1),i()),n&2){let e=s(4);a(),k(" ",e.getErrorMessage("phoneNumber")," ")}}function ce(n,o){if(n&1&&(t(0,"p",90),r(1),i()),n&2){let e=s(4);a(),k(" ",e.getErrorMessage("homeCity")," ")}}function ue(n,o){if(n&1&&(t(0,"p",90),r(1),i()),n&2){let e=s(4);a(),k(" ",e.getErrorMessage("homeDistrict")," ")}}function ge(n,o){if(n&1&&(t(0,"p",90),r(1),i()),n&2){let e=s(4);a(),k(" ",e.getErrorMessage("homeAddress")," ")}}function fe(n,o){if(n&1&&(t(0,"option",91),r(1),i()),n&2){let e=o.$implicit;m("value",e.id),a(),V(" ",e.sequenceNumber,". ",e.address," (",e.district,") ")}}function xe(n,o){n&1&&(f(),t(0,"svg",92),p(1,"circle",17)(2,"path",18),i())}function be(n,o){if(n&1){let e=S();t(0,"div")(1,"div",51)(2,"h3",52),r(3,"Profil D\xFCzenle"),i(),t(4,"button",65),_("click",function(){v(e);let d=s(3);return y(d.cancelEdit())}),r(5," \u0130ptal "),i()(),t(6,"form",66),_("ngSubmit",function(){v(e);let d=s(3);return y(d.onProfileSubmit())}),t(7,"div",67)(8,"div")(9,"label",68),r(10," Ad "),t(11,"span",69),r(12,"*"),i()(),p(13,"input",70),g(14,se,2,1,"p",71),i(),t(15,"div")(16,"label",68),r(17," Soyad "),t(18,"span",69),r(19,"*"),i()(),p(20,"input",72),g(21,me,2,1,"p",71),i()(),t(22,"div")(23,"label",68),r(24," Telefon "),t(25,"span",69),r(26,"*"),i()(),p(27,"input",73),g(28,pe,2,1,"p",71),i(),t(29,"div",67)(30,"div")(31,"label",68),r(32," \u015Eehir "),t(33,"span",69),r(34,"*"),i()(),p(35,"input",74),g(36,ce,2,1,"p",71),i(),t(37,"div")(38,"label",68),r(39," \u0130l\xE7e "),t(40,"span",69),r(41,"*"),i()(),p(42,"input",75),g(43,ue,2,1,"p",71),i()(),t(44,"div")(45,"label",68),r(46," Adres "),t(47,"span",69),r(48,"*"),i()(),p(49,"textarea",76),g(50,ge,2,1,"p",71),i(),t(51,"div")(52,"label",68),r(53," GPS Koordinatlar\u0131 "),t(54,"span",69),r(55,"*"),i()(),t(56,"div",77),p(57,"input",78)(58,"input",79),t(59,"button",80),_("click",function(){v(e);let d=s(3);return y(d.openMapModal())}),f(),t(60,"svg",45),p(61,"path",81),i(),r(62," Haritadan Se\xE7 "),i()(),h(),t(63,"p",82),r(64,"Haritadan konum se\xE7mek i\xE7in butona t\u0131klay\u0131n"),i()(),t(65,"div")(66,"label",68),r(67," Varsay\u0131lan Durak "),i(),t(68,"select",83)(69,"option",84),r(70,"Durak Se\xE7iniz (Opsiyonel)"),i(),g(71,fe,2,4,"option",85),i()(),t(72,"div",86)(73,"button",87),_("click",function(){v(e);let d=s(3);return y(d.cancelEdit())}),r(74," \u0130ptal "),i(),t(75,"button",88),g(76,xe,3,0,"svg",89),r(77),i()()()()}if(n&2){let e,l,d,u,E,M,c=s(3);a(4),m("disabled",c.isLoading),a(2),m("formGroup",c.profileForm),a(8),m("ngIf",((e=c.profileForm.get("firstName"))==null?null:e.invalid)&&((e=c.profileForm.get("firstName"))==null?null:e.touched)),a(7),m("ngIf",((l=c.profileForm.get("lastName"))==null?null:l.invalid)&&((l=c.profileForm.get("lastName"))==null?null:l.touched)),a(7),m("ngIf",((d=c.profileForm.get("phoneNumber"))==null?null:d.invalid)&&((d=c.profileForm.get("phoneNumber"))==null?null:d.touched)),a(8),m("ngIf",((u=c.profileForm.get("homeCity"))==null?null:u.invalid)&&((u=c.profileForm.get("homeCity"))==null?null:u.touched)),a(7),m("ngIf",((E=c.profileForm.get("homeDistrict"))==null?null:E.invalid)&&((E=c.profileForm.get("homeDistrict"))==null?null:E.touched)),a(7),m("ngIf",((M=c.profileForm.get("homeAddress"))==null?null:M.invalid)&&((M=c.profileForm.get("homeAddress"))==null?null:M.touched)),a(21),m("ngForOf",c.routeStops),a(2),m("disabled",c.isLoading),a(2),m("disabled",c.isLoading||c.profileForm.invalid),a(),m("ngIf",c.isLoading),a(),k(" ",c.isLoading?"Kaydediliyor...":"G\xFCncelle"," ")}}function he(n,o){if(n&1&&(t(0,"div"),g(1,de,64,9,"div",48)(2,be,78,13,"div",48),i()),n&2){let e=s(2);a(),m("ngIf",!e.isEditMode),a(),m("ngIf",e.isEditMode)}}function ve(n,o){if(n&1&&(t(0,"p",90),r(1),i()),n&2){let e=s(3);a(),k(" ",e.getErrorMessage("currentPassword",e.passwordForm)," ")}}function ye(n,o){if(n&1&&(t(0,"p",90),r(1),i()),n&2){let e=s(3);a(),k(" ",e.getErrorMessage("newPassword",e.passwordForm)," ")}}function _e(n,o){if(n&1&&(t(0,"p",90),r(1),i()),n&2){let e=s(3);a(),k(" ",e.getErrorMessage("confirmPassword",e.passwordForm)," ")}}function ke(n,o){if(n&1){let e=S();t(0,"div")(1,"h3",93),r(2,"\u015Eifre De\u011Fi\u015Ftir"),i(),t(3,"form",94),_("ngSubmit",function(){v(e);let d=s(2);return y(d.onPasswordSubmit())}),t(4,"div")(5,"label",68),r(6," Mevcut \u015Eifre "),t(7,"span",69),r(8,"*"),i()(),p(9,"input",95),g(10,ve,2,1,"p",71),i(),t(11,"div")(12,"label",68),r(13," Yeni \u015Eifre "),t(14,"span",69),r(15,"*"),i()(),p(16,"input",96),g(17,ye,2,1,"p",71),i(),t(18,"div")(19,"label",68),r(20," Yeni \u015Eifre (Tekrar) "),t(21,"span",69),r(22,"*"),i()(),p(23,"input",97),g(24,_e,2,1,"p",71),i(),t(25,"div",98)(26,"button",99),r(27," \u015Eifreyi De\u011Fi\u015Ftir "),i()(),t(28,"div",100)(29,"div",101),f(),t(30,"svg",102),p(31,"path",103),i(),h(),t(32,"div")(33,"p",104),r(34,"Not"),i(),t(35,"p",105),r(36," \u015Eifre de\u011Fi\u015Ftirme \xF6zelli\u011Fi backend taraf\u0131nda hen\xFCz eklenmedi. Bu \xF6zellik yak\u0131nda kullan\u0131ma a\xE7\u0131lacakt\u0131r. "),i()()()()()()}if(n&2){let e,l,d,u=s(2);a(3),m("formGroup",u.passwordForm),a(7),m("ngIf",((e=u.passwordForm.get("currentPassword"))==null?null:e.invalid)&&((e=u.passwordForm.get("currentPassword"))==null?null:e.touched)),a(7),m("ngIf",((l=u.passwordForm.get("newPassword"))==null?null:l.invalid)&&((l=u.passwordForm.get("newPassword"))==null?null:l.touched)),a(7),m("ngIf",((d=u.passwordForm.get("confirmPassword"))==null?null:d.invalid)&&((d=u.passwordForm.get("confirmPassword"))==null?null:d.touched)),a(2),m("disabled",u.passwordForm.invalid)}}function we(n,o){if(n&1){let e=S();t(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24),f(),t(5,"svg",25),p(6,"path",26),i()(),h(),t(7,"h2",27),r(8),i(),t(9,"p",28),r(10),i()(),t(11,"div",29)(12,"div",30)(13,"div",31),f(),t(14,"svg",32),p(15,"path",33),i()(),h(),t(16,"div")(17,"p",34),r(18,"Telefon"),i(),t(19,"p",35),r(20),i()()(),t(21,"div",30)(22,"div",36),f(),t(23,"svg",37),p(24,"path",38)(25,"path",39),i()(),h(),t(26,"div")(27,"p",34),r(28,"\u015Eehir"),i(),t(29,"p",35),r(30),i()()(),g(31,le,10,1,"div",40),i()()(),t(32,"div",41)(33,"div",22)(34,"div",42)(35,"div",43)(36,"button",44),_("click",function(){v(e);let d=s();return y(d.switchTab("profile"))}),f(),t(37,"svg",45),p(38,"path",26),i(),r(39," Profil Bilgileri "),i(),h(),t(40,"button",44),_("click",function(){v(e);let d=s();return y(d.switchTab("security"))}),f(),t(41,"svg",45),p(42,"path",46),i(),r(43," G\xFCvenlik "),i()()(),h(),t(44,"div",47),g(45,he,3,2,"div",48)(46,ke,37,5,"div",48),i()()()()}if(n&2){let e=s();a(8),P("",e.user.firstName," ",e.user.lastName),a(2),x(e.user.email),a(10),x(e.user.phoneNumber),a(10),P("",e.user.homeDistrict,", ",e.user.homeCity),a(),m("ngIf",e.user.defaultRouteStopId),a(5),F("border-b-2",e.activeTab==="profile")("border-blue-600",e.activeTab==="profile")("text-blue-600",e.activeTab==="profile")("dark:text-blue-400",e.activeTab==="profile")("text-gray-600",e.activeTab!=="profile")("dark:text-gray-400",e.activeTab!=="profile"),a(4),F("border-b-2",e.activeTab==="security")("border-blue-600",e.activeTab==="security")("text-blue-600",e.activeTab==="security")("dark:text-blue-400",e.activeTab==="security")("text-gray-600",e.activeTab!=="security")("dark:text-gray-400",e.activeTab!=="security"),a(5),m("ngIf",e.activeTab==="profile"),a(),m("ngIf",e.activeTab==="security")}}function Se(n,o){if(n&1){let e=S();t(0,"div",106)(1,"div",107)(2,"div",108)(3,"div")(4,"h2",109),r(5,"Ev Adresini Se\xE7"),i(),t(6,"p",110),r(7,"Harita \xFCzerinde t\u0131klayarak veya i\u015Faret\xE7iyi s\xFCr\xFCkleyerek konum se\xE7in"),i()(),t(8,"button",111),_("click",function(){v(e);let d=s();return y(d.closeMapModal())}),f(),t(9,"svg",112),p(10,"path",113),i()()(),h(),t(11,"div",114),p(12,"div",115),i(),t(13,"div",116)(14,"div",117)(15,"p",19),r(16,"Se\xE7ili Konum:"),i(),t(17,"p",118),r(18),i()(),t(19,"div",30)(20,"button",119),_("click",function(){v(e);let d=s();return y(d.closeMapModal())}),r(21," \u0130ptal "),i(),t(22,"button",120),_("click",function(){v(e);let d=s();return y(d.confirmLocation())}),f(),t(23,"svg",45),p(24,"path",11),i(),r(25," Konumu Onayla "),i()()()()()}if(n&2){let e=s();a(18),P(" ",e.selectedLat.toFixed(6),", ",e.selectedLng.toFixed(6)," ")}}var X=class n{constructor(o,e,l,d){this.profileService=o;this.routeStopService=e;this.fb=l;this.cdr=d;this.profileForm=this.fb.group({firstName:["",[b.required]],lastName:["",[b.required]],phoneNumber:["",[b.required]],homeCity:["",[b.required]],homeDistrict:["",[b.required]],homeAddress:["",[b.required]],homeLatitude:["",[b.required]],homeLongitude:["",[b.required]],defaultRouteStopId:[""]}),this.passwordForm=this.fb.group({currentPassword:["",[b.required,b.minLength(6)]],newPassword:["",[b.required,b.minLength(6)]],confirmPassword:["",[b.required,b.minLength(6)]]})}user=null;routeStops=[];isLoading=!1;errorMessage="";successMessage="";activeTab="profile";isEditMode=!1;profileForm;isMapModalOpen=!1;mapModal=null;mapMarker=null;selectedLat=41.0082;selectedLng=28.9784;passwordForm;ngOnInit(){this.loadProfile(),this.loadRouteStops()}loadProfile(){let o=localStorage.getItem("user");if(!o){this.errorMessage="Kullan\u0131c\u0131 bilgisi bulunamad\u0131";return}let l=JSON.parse(o).id;this.isLoading=!0,this.errorMessage="",this.cdr.detectChanges(),this.profileService.getProfile(l).subscribe({next:d=>{d.isSuccess&&d.data?(this.user=d.data,this.selectedLat=Number(this.user.homeLatitude),this.selectedLng=Number(this.user.homeLongitude)):this.errorMessage=d.message||"Profil y\xFCklenemedi",this.isLoading=!1,this.cdr.detectChanges()},error:d=>{console.error("Error loading profile:",d),this.errorMessage="Profil y\xFCklenirken bir hata olu\u015Ftu",this.isLoading=!1,this.cdr.detectChanges()}})}loadRouteStops(){this.routeStopService.getAll().subscribe({next:o=>{o.isSuccess&&o.data&&(this.routeStops=o.data)},error:o=>{console.error("Error loading route stops:",o)}})}switchTab(o){this.activeTab=o,this.errorMessage="",this.successMessage="",this.cdr.detectChanges()}enableEditMode(){this.user&&(this.isEditMode=!0,this.selectedLat=Number(this.user.homeLatitude),this.selectedLng=Number(this.user.homeLongitude),this.profileForm.reset(),this.profileForm.patchValue({firstName:this.user.firstName,lastName:this.user.lastName,phoneNumber:this.user.phoneNumber,homeCity:this.user.homeCity,homeDistrict:this.user.homeDistrict,homeAddress:this.user.homeAddress,homeLatitude:this.user.homeLatitude,homeLongitude:this.user.homeLongitude,defaultRouteStopId:this.user.defaultRouteStopId||""}),this.errorMessage="",this.successMessage="",this.cdr.detectChanges())}cancelEdit(){this.isEditMode=!1,this.errorMessage="",this.successMessage="",this.cdr.detectChanges()}openMapModal(){this.isMapModalOpen=!0,this.cdr.detectChanges(),setTimeout(()=>{this.initMapModal()},100)}closeMapModal(){this.isMapModalOpen=!1,this.mapModal&&(this.mapModal.remove(),this.mapModal=null,this.mapMarker=null),this.cdr.detectChanges()}initMapModal(){if(!document.getElementById("profile-map-modal"))return;this.mapModal=w.map("profile-map-modal").setView([this.selectedLat,this.selectedLng],13),w.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"\xA9 OpenStreetMap contributors"}).addTo(this.mapModal);let e=w.divIcon({className:"custom-marker",html:`
        <div style="background-color: #8b5cf6; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);">
          \u{1F3E0}
        </div>
      `,iconSize:[30,30],iconAnchor:[15,15]});this.mapMarker=w.marker([this.selectedLat,this.selectedLng],{icon:e,draggable:!0}).addTo(this.mapModal),this.mapMarker.on("dragend",l=>{let d=l.target.getLatLng();this.selectedLat=d.lat,this.selectedLng=d.lng,this.cdr.detectChanges()}),this.mapModal.on("click",l=>{this.selectedLat=l.latlng.lat,this.selectedLng=l.latlng.lng,this.mapMarker?.setLatLng(l.latlng),this.cdr.detectChanges()})}confirmLocation(){this.profileForm.patchValue({homeLatitude:this.selectedLat.toFixed(6),homeLongitude:this.selectedLng.toFixed(6)}),this.closeMapModal()}onProfileSubmit(){if(this.profileForm.invalid||!this.user){this.profileForm.markAllAsTouched();return}this.isLoading=!0,this.errorMessage="",this.successMessage="",this.cdr.detectChanges();let o=this.profileForm.getRawValue(),e={id:this.user.id,firstName:o.firstName?.trim()||"",lastName:o.lastName?.trim()||"",phoneNumber:o.phoneNumber?.trim()||"",homeCity:o.homeCity?.trim()||"",homeDistrict:o.homeDistrict?.trim()||"",homeAddress:o.homeAddress?.trim()||"",homeLatitude:parseFloat(o.homeLatitude),homeLongitude:parseFloat(o.homeLongitude),defaultRouteStopId:o.defaultRouteStopId||void 0};this.profileService.updateProfile(e).subscribe({next:l=>{if(this.isLoading=!1,l.isSuccess){this.successMessage="Profil ba\u015Far\u0131yla g\xFCncellendi!";let d=localStorage.getItem("user");if(d){let u=JSON.parse(d);u.firstName=e.firstName,u.lastName=e.lastName,localStorage.setItem("user",JSON.stringify(u))}this.cdr.detectChanges(),setTimeout(()=>{this.loadProfile(),this.cancelEdit()},1500)}else this.errorMessage=l.message||"G\xFCncelleme ba\u015Far\u0131s\u0131z",this.cdr.detectChanges()},error:l=>{console.error("Update Error:",l),this.errorMessage=l.error?.message||"Profil g\xFCncellenirken bir hata olu\u015Ftu",this.isLoading=!1,this.cdr.detectChanges()}})}onPasswordSubmit(){if(this.passwordForm.invalid){this.passwordForm.markAllAsTouched();return}let o=this.passwordForm.getRawValue();if(o.newPassword!==o.confirmPassword){this.errorMessage="Yeni \u015Fifreler e\u015Fle\u015Fmiyor";return}this.errorMessage="\u015Eifre de\u011Fi\u015Ftirme \xF6zelli\u011Fi hen\xFCz backend taraf\u0131nda eklenmedi"}getDefaultStopName(o){if(!o)return"-";let e=this.routeStops.find(l=>l.id===o);return e?`${e.sequenceNumber}. ${e.address}`:"Bilinmiyor"}getErrorMessage(o,e=this.profileForm){let l=e.get(o);return l?.hasError("required")?"Bu alan zorunludur":l?.hasError("minlength")?"En az 6 karakter olmal\u0131d\u0131r":""}static \u0275fac=function(e){return new(e||n)(C(L),C(W),C(J),C(A))};static \u0275cmp=T({type:n,selectors:[["app-profile"]],decls:12,vars:5,consts:[[1,"space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-gray-800","dark:text-white"],[1,"text-gray-600","dark:text-gray-400","mt-1"],["class","bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-400 px-4 py-3 rounded-lg flex items-center gap-2 animate-fade-in",4,"ngIf"],["class","bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded-lg flex items-center gap-2",4,"ngIf"],["class","flex justify-center items-center py-12",4,"ngIf"],["class","grid grid-cols-1 lg:grid-cols-3 gap-6",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",4,"ngIf"],[1,"bg-green-50","dark:bg-green-900/30","border","border-green-200","dark:border-green-800","text-green-700","dark:text-green-400","px-4","py-3","rounded-lg","flex","items-center","gap-2","animate-fade-in"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"bg-red-50","dark:bg-red-900/30","border","border-red-200","dark:border-red-800","text-red-700","dark:text-red-400","px-4","py-3","rounded-lg","flex","items-center","gap-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex","justify-center","items-center","py-12"],[1,"flex","flex-col","items-center","gap-3"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-10","w-10","text-blue-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-gray-600","dark:text-gray-400"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-1"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-sm","border","border-gray-200","dark:border-gray-700","overflow-hidden"],[1,"p-6","text-center","border-b","border-gray-200","dark:border-gray-700"],[1,"w-24","h-24","mx-auto","bg-purple-100","dark:bg-purple-900/30","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-purple-600","dark:text-purple-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-gray-800","dark:text-white","text-xl","font-bold","mt-4"],[1,"text-gray-600","dark:text-gray-400","text-sm","mt-1"],[1,"p-6","space-y-4"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","bg-blue-100","dark:bg-blue-900/30","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600","dark:text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"text-sm","font-medium","text-gray-800","dark:text-white"],[1,"w-10","h-10","bg-green-100","dark:bg-green-900/30","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600","dark:text-green-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["class","flex items-center gap-3",4,"ngIf"],[1,"lg:col-span-2"],[1,"border-b","border-gray-200","dark:border-gray-700"],[1,"flex"],[1,"flex-1","px-6","py-4","font-medium","transition","flex","items-center","justify-center","gap-2","hover:bg-gray-50","dark:hover:bg-gray-700/30",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"p-6"],[4,"ngIf"],[1,"w-10","h-10","bg-purple-100","dark:bg-purple-900/30","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-600","dark:text-purple-400"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-bold","text-gray-800","dark:text-white"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition","flex","items-center","gap-2",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"text-xs","text-gray-500","dark:text-gray-400","uppercase","tracking-wide","mb-1"],[1,"pt-6","border-t","border-gray-200","dark:border-gray-700"],[1,"text-sm","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"md:col-span-2"],[1,"bg-gray-50","dark:bg-gray-700/50","rounded-lg","p-4","border","border-gray-200","dark:border-gray-600"],[1,"grid","grid-cols-2","gap-4"],[1,"text-xs","text-gray-500","dark:text-gray-400","mb-1"],[1,"text-sm","font-mono","text-gray-800","dark:text-white"],[1,"px-4","py-2","bg-gray-200","dark:bg-gray-700","text-gray-800","dark:text-white","rounded-lg","hover:bg-gray-300","dark:hover:bg-gray-600","transition","disabled:opacity-50",3,"click","disabled"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-red-500"],["type","text","formControlName","firstName","placeholder","Ad",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["class","text-red-500 text-xs mt-1.5",4,"ngIf"],["type","text","formControlName","lastName","placeholder","Soyad",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["type","text","formControlName","phoneNumber","placeholder","5551234567",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["type","text","formControlName","homeCity","placeholder","\u0130stanbul",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["type","text","formControlName","homeDistrict","placeholder","Kad\u0131k\xF6y",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["formControlName","homeAddress","rows","3","placeholder","Tam adres bilgisi",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition","resize-none"],[1,"grid","grid-cols-3","gap-4"],["type","number","formControlName","homeLatitude","step","0.000001","readonly","","placeholder","Enlem",1,"w-full","px-4","py-2.5","bg-gray-100","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","outline-none","text-gray-800","dark:text-white","transition","cursor-not-allowed"],["type","number","formControlName","homeLongitude","step","0.000001","readonly","","placeholder","Boylam",1,"w-full","px-4","py-2.5","bg-gray-100","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","outline-none","text-gray-800","dark:text-white","transition","cursor-not-allowed"],["type","button",1,"px-4","py-2.5","bg-green-600","text-white","rounded-lg","hover:bg-green-700","transition","flex","items-center","justify-center","gap-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-2"],["formControlName","defaultRouteStopId",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","gap-3","pt-6","border-t","border-gray-200","dark:border-gray-700"],["type","button",1,"px-6","py-2.5","bg-gray-200","dark:bg-gray-700","text-gray-800","dark:text-white","rounded-lg","hover:bg-gray-300","dark:hover:bg-gray-600","transition","disabled:opacity-50","font-medium",3,"click","disabled"],["type","submit",1,"px-6","py-2.5","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition","disabled:bg-gray-400","disabled:cursor-not-allowed","flex","items-center","gap-2","font-medium",3,"disabled"],["class","animate-spin h-5 w-5","fill","none","viewBox","0 0 24 24",4,"ngIf"],[1,"text-red-500","text-xs","mt-1.5"],[3,"value"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"],[1,"text-xl","font-bold","text-gray-800","dark:text-white","mb-6"],[1,"max-w-md","space-y-5",3,"ngSubmit","formGroup"],["type","password","formControlName","currentPassword","placeholder","Mevcut \u015Fifreniz",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["type","password","formControlName","newPassword","placeholder","Yeni \u015Fifreniz (min. 6 karakter)",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],["type","password","formControlName","confirmPassword","placeholder","Yeni \u015Fifrenizi tekrar girin",1,"w-full","px-4","py-2.5","bg-gray-50","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","outline-none","text-gray-800","dark:text-white","transition"],[1,"pt-4"],["type","submit",1,"w-full","px-6","py-3","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition","disabled:bg-gray-400","disabled:cursor-not-allowed","font-medium",3,"disabled"],[1,"bg-yellow-50","dark:bg-yellow-900/20","border","border-yellow-200","dark:border-yellow-800","rounded-lg","p-4","mt-4"],[1,"flex","gap-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-600","dark:text-yellow-400","flex-shrink-0","mt-0.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-sm","font-medium","text-yellow-800","dark:text-yellow-400"],[1,"text-sm","text-yellow-700","dark:text-yellow-500","mt-1"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/50","backdrop-blur-sm"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","max-w-4xl","w-full","h-[80vh]","flex","flex-col"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200","dark:border-gray-700","flex-shrink-0"],[1,"text-2xl","font-bold","text-gray-800","dark:text-white"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-1"],["title","Kapat",1,"text-gray-400","hover:text-gray-600","dark:hover:text-gray-300","transition",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex-1","relative"],["id","profile-map-modal",1,"absolute","inset-0"],[1,"flex","items-center","justify-between","p-6","border-t","border-gray-200","dark:border-gray-700","flex-shrink-0","bg-gray-50","dark:bg-gray-900"],[1,"text-sm"],[1,"font-mono","text-gray-800","dark:text-white","mt-1"],["type","button",1,"px-6","py-2.5","bg-gray-200","dark:bg-gray-700","text-gray-800","dark:text-white","rounded-lg","hover:bg-gray-300","dark:hover:bg-gray-600","transition","font-medium",3,"click"],["type","button",1,"px-6","py-2.5","bg-green-600","text-white","rounded-lg","hover:bg-green-700","transition","flex","items-center","gap-2","font-medium",3,"click"]],template:function(e,l){e&1&&(t(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),r(4,"Profilim"),i(),t(5,"p",3),r(6,"Hesap bilgilerinizi g\xF6r\xFCnt\xFCleyin ve d\xFCzenleyin"),i()()(),g(7,ne,5,1,"div",4)(8,oe,5,1,"div",5)(9,ae,7,0,"div",6)(10,we,47,33,"div",7),i(),g(11,Se,26,2,"div",8)),e&2&&(a(7),m("ngIf",l.successMessage),a(),m("ngIf",l.errorMessage),a(),m("ngIf",l.isLoading&&!l.user),a(),m("ngIf",!l.isLoading&&l.user),a(),m("ngIf",l.isMapModalOpen))},dependencies:[z,O,D,Z,B,Y,$,j,H,K,G,R,U,q],styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .3s ease-out}#profile-edit-map[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:.5rem}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e0;border-radius:4px}.dark[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4a5568}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a0aec0}.dark[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#718096}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .3s ease-out}"]})};export{X as ProfileComponent};
